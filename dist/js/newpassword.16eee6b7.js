(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["newpassword"],{"36e2":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",[t("div",{staticClass:"container-fluid w-100 p-0 mr-0 vh-100"},[t("div",{staticClass:"row p-0 m-0 h-100 justify-content-center align-items-center"},[s._m(0),t("div",{staticClass:"col-12 col-md-6 col-lg-5 col-xl-5"},[t("div",{staticClass:"row h-100 justify-content-center align-items-center"},[t("div",{staticClass:"col-9 col-md-7 col-lg-8 col-xl-7"},[t("h6",{staticClass:"fw-600 text-end mb-5"},[t("router-link",{staticClass:"btn-reg text-decoration-none",attrs:{to:"/register"}},[s._v("Register")])],1),t("h5",{staticClass:"fw-600"},[s._v("New Password")]),t("p",{staticClass:"lh-r mt-4"},[s._v("Please enter your new password")]),t("div",{staticClass:"form-floating mb-4 mt-5"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.new_pass.newpass,expression:"new_pass.newpass"}],staticClass:"form-control",attrs:{disabled:s.isLoading,type:"password",id:"floatingNewPass",placeholder:"name@example.com"},domProps:{value:s.new_pass.newpass},on:{input:function(e){e.target.composing||s.$set(s.new_pass,"newpass",e.target.value)}}}),t("label",{attrs:{for:"floatingNewPass"}},[s._v("New Password")])]),t("div",{staticClass:"form-floating mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.new_pass.confirmpass,expression:"new_pass.confirmpass"}],staticClass:"form-control",attrs:{disabled:s.isLoading,type:"password",id:"floatingPassword",placeholder:"Password"},domProps:{value:s.new_pass.confirmpass},on:{input:function(e){e.target.composing||s.$set(s.new_pass,"confirmpass",e.target.value)}}}),t("label",{attrs:{for:"floatingPassword"}},[s._v("Confirm Password")])]),t("div",{staticClass:"d-grid"},[t("button",{staticClass:"mt-4 btn rounded-pill btn-purple",attrs:{disabled:s.isLoading,href:""},on:{click:function(e){return e.preventDefault(),s.saveResetPassword.apply(null,arguments)}}},[s.isLoading?t("div",{staticClass:"spinner-grow text-light spinner-grow-sm me-2",attrs:{role:"status"}},[t("span",{staticClass:"visually-hidden"},[s._v("Loading...")])]):s._e(),s._v(" Save Password ")])])])])])])])])},n=[function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"col-12 col-md-6 col-lg-7 col-xl-7 hero-bg"},[t("div",{staticClass:"content-end"},[t("h3",{staticClass:"fw-600"},[s._v("Touch-less")]),t("p",[s._v("Switching to touchless reduces common touchpoints, helping safeguard against the spread of viruses.")])])])}],r=t("1da1"),o=(t("96cf"),{data:function(){return{isLoading:!1,new_pass:{newpass:"",confirmpass:"",email:""}}},mounted:function(){document.title="Enter new password",this.isLoading=!0,this.checkPasswordResetToken(),console.log(this.$route.query)},methods:{checkPasswordResetToken:function(){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={token:s.$route.query.token,email:s.$route.query.email},e.next=3,s.$store.dispatch("auth/checkResetPassword",t);case 3:a=e.sent,200==a.status?s.isLoading=!1:(s.$toast.error("Reset request is invalid"),s.$router.push("/"));case 5:case"end":return e.stop()}}),e)})))()},saveResetPassword:function(){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.new_pass.newpass==s.new_pass.confirmpass){e.next=2;break}return e.abrupt("return",s.$toast.error("Password doesn't match"));case 2:return s.isLoading=!0,t={password:s.new_pass.newpass,email:s.$route.query.email,token:s.$route.query.token},e.next=6,s.$store.dispatch("auth/saveResetPassword",t);case 6:a=e.sent,200==a.status?(s.isLoading=!1,s.$toast.success("Password has been reset. You can now login to your account"),s.$router.push("/")):(s.$toast.error("Something went wrong. Please contact the developer"),s.isLoading=!1);case 8:case"end":return e.stop()}}),e)})))()}}}),i=o,c=t("2877"),l=Object(c["a"])(i,a,n,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=newpassword.16eee6b7.js.map