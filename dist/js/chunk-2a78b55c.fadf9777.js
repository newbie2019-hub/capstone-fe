(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a78b55c"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,n){var a=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var s=n.call(t,e);if("object"!==typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"2e7b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[n("div",{staticClass:"card mb-3 pe-5 ps-5 pb-4 pt-4"},[n("h5",{staticClass:"mt-3"},[t._v("Organization Management")]),n("p",{staticClass:"text-muted"},[t._v("Manage organization member post below")]),n("div",{staticClass:"row justify-content-end mt-4"},[n("div",{staticClass:"col-9 col-sm-7 col-md-7 col-lg-6 col-xl-5 mt-2"},[n("div",{staticClass:"d-flex align-items-center justify-content-center"},[n("p",{staticClass:"pe-2"},[t._v("Organization")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOrganization,expression:"selectedOrganization"}],staticClass:"form-select",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedOrganization=e.target.multiple?n:n[0]},t.setCurrentOrganization]}},t._l(t.organizations.data,(function(e,a){return n("option",{key:a,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])])]),t.viewPost?t._e():n("div",{staticClass:"table-responsive mt-4"},[t.initialLoading||t.isSearching?n("b-skeleton-table",{attrs:{rows:6,columns:10,"table-props":{bordered:!1,striped:!0}}}):t._e(),t.currentOrganization&&0!=t.currentOrganization?t._e():n("div",{staticClass:"text-center"},[t._v("No accounts is under this organizations")]),t.viewPost||0==t.currentOrganization||t.initialLoading?t._e():n("table",{staticClass:"table table-hover"},[t.currentOrganization?n("thead",[t._m(0)]):t._e(),t.currentOrganization?n("tbody",t._l(t.currentOrganization,(function(e,a){return n("tr",{key:a},[n("th",{staticClass:"justify-content-center cursor-pointer",attrs:{scope:"row"},on:{click:function(n){n.preventDefault(),t.accDisplayed=e,t.$bvModal.show("viewInfoModal")}}},[n("b-avatar",{attrs:{variant:"dark",src:t.imgURL+"/"+e.userinfo.image}})],1),n("td",{staticClass:"text-nowrap cursor-pointer",on:{click:function(n){n.preventDefault(),t.accDisplayed=e,t.$bvModal.show("viewInfoModal")}}},[t._v(t._s(e.userinfo.first_name)+" "+t._s(e.userinfo.last_name))]),n("td",{staticClass:"cursor-pointer",on:{click:function(n){n.preventDefault(),t.accDisplayed=e,t.$bvModal.show("viewInfoModal")}}},[t._v(t._s(e.userinfo.role.role))]),n("td",[t._v(t._s(t._f("moment")(e.created_at)))]),n("td",[n("div",{staticClass:"d-flex"},[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-secondary rounded-pill me-2",attrs:{title:"View Posts"},on:{click:function(n){n.preventDefault(),t.posts=e.posts,t.viewPost=!0}}},[n("i",{staticClass:"bi bi-newspaper"})])])])])})),0):t._e()])],1),t.viewPost?n("div",{staticClass:"mt-2"},[n("button",{staticClass:"btn btn-purple",on:{click:function(e){e.preventDefault(),t.viewPost=!1,t.posts=[]}}},[n("i",{staticClass:"bi bi-arrow-left me-2"}),t._v("Return")])]):t._e(),t.viewPost?n("div",{staticClass:"table-responsive mt-3"},[t.isLoading?n("b-skeleton-table",{attrs:{rows:4,columns:7,"table-props":{bordered:!1,striped:!0}}}):t._e(),t.isLoading?t._e():n("table",{staticClass:"table table-hover"},[t._m(1),n("tbody",t._l(t.posts,(function(e,a){return n("tr",{key:a},[n("td",{staticClass:"cursor-pointer",on:{click:function(n){n.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(a+1))]),n("td",{staticClass:"cursor-pointer",on:{click:function(n){n.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[e.postcontent.image?n("img",{attrs:{src:t.imgURL+"/"+e.postcontent.image,alt:"",width:"100"}}):n("p",{staticClass:"text-muted"},[t._v("No Image")])]),n("td",{staticClass:"cursor-pointer text-nowrap",on:{click:function(n){n.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(e.postcontent.title))]),n("td",{staticClass:"cursor-pointer",on:{click:function(n){n.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(e.postcontent.post_excerpt))]),n("td",[n("b-badge",{staticClass:"rounded-pill",attrs:{variant:"Approved"==e.status?"success":"info"}},[t._v(t._s(e.status))])],1),n("td",{staticClass:"text-nowrap"},[t._v(t._s(t._f("moment")(e.created_at)))]),t._m(2,!0)])})),0)])],1):t._e()])])])]),n("b-modal",{attrs:{id:"viewPostModal",size:"lg",scrollable:"",centered:"",title:t.postContent.postcontent.title},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.cancel;return[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a()}}},[t._v(" Close ")])]}}])},[n("div",{domProps:{innerHTML:t._s(t.postContent.postcontent.content)}}),n("p",{staticClass:"mt-4"},[n("small",[t._v("Views: "+t._s(t.postContent.views))])]),n("p",{staticClass:" mb-2"},[n("small",[t._v("Date Posted: "+t._s(t._f("moment")(t.postContent.created_at)))])])]),n("b-modal",{attrs:{id:"viewInfoModal",centered:"",title:"Account Info"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.cancel;return[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return a()}}},[t._v(" Close ")])]}}])},[n("div",{staticClass:"row justify-content-center text-center"},[n("b-avatar",{attrs:{size:"6rem",variant:"dark",src:t.imgURL+"/"+t.accDisplayed.userinfo.image}}),n("h5",{staticClass:"mt-3 "},[t._v(t._s(t.accDisplayed.userinfo.first_name)+" "+t._s(t.accDisplayed.userinfo.last_name))]),n("p",{},[t._v(t._s(t.accDisplayed.email))]),n("p",{},[t._v("Contact: "+t._s(t.accDisplayed.userinfo.contact_number))]),n("p",{},[t._v("Gender: "+t._s(t.accDisplayed.userinfo.gender))]),n("p",{},[t._v("Role: "+t._s(t.accDisplayed.userinfo.role.role))])],1)]),n("b-modal",{attrs:{id:"deleteModal",centered:"",title:"Confirm Delete"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.cancel;return[n("b-button",{attrs:{variant:"primary",size:"sm",disabled:t.isLoading},on:{click:function(t){return a()}}},[t._v(" Cancel ")]),n("b-button",{attrs:{size:"sm",variant:"danger",disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.removeAccount.apply(null,arguments)}}},[t._v(" Delete ")])]}}])},[n("p",[t._v("Are you sure you want to delete this account?")])]),n("b-modal",{attrs:{id:"deletePostModal",centered:"",title:"Confirm Delete"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.cancel;return[n("b-button",{attrs:{variant:"primary",size:"sm",disabled:t.isLoading},on:{click:function(t){return a()}}},[t._v(" Cancel ")]),n("b-button",{attrs:{size:"sm",variant:"danger",disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.deletePost.apply(null,arguments)}}},[t._v(" Delete ")])]}}])},[n("p",[t._v("Are you sure you want to delete this account?")])]),n("b-modal",{attrs:{id:"approvePostModal",centered:"",title:"Confirm Approve"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.cancel;return[n("b-button",{attrs:{disabled:t.isLoading,variant:"primary"},on:{click:function(t){return a()}}},[t._v(" Cancel ")]),n("b-button",{attrs:{disabled:t.isLoading,variant:"success"},on:{click:function(e){return e.preventDefault(),t.approvePost.apply(null,arguments)}}},[t._v(" Approve ")])]}}])},[n("p",{},[t._v("Are you sure you want to approve this post?")])])],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",{attrs:{scope:"col"}}),n("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Name")]),n("th",{attrs:{scope:"col"}},[t._v("Role")]),n("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Date Created")]),n("th",{attrs:{scope:"col"}},[t._v("Actions")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("ID")]),n("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Image")]),n("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Title")]),n("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Post Excerpt")]),n("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Status")]),n("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Date Posted")]),n("th",{attrs:{scope:"col"}},[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("div",{staticClass:"d-flex"})])}],s=n("1da1"),o=n("5530"),i=(n("159b"),n("ac1f"),n("841c"),n("96cf"),n("2f62")),c=n("c1df"),l=n.n(c),u=n("2ef0"),d={filters:{moment:function(t){return l()(t).format("MMM Do YYYY, h:mm a")}},watch:{search:function(t,e){this.debouncedOrgMemberSearch()}},created:function(){this.debouncedOrgMemberSearch=u.debounce(this.orgmembersSearch,1e3)},data:function(){return{initialLoading:!1,isLoading:!1,isSearching:!1,currentOrganization:{},selectedOrganization:"",postContent:{postcontent:{title:"",content:""}},viewPost:!1,posts:[],current_id:"",search:"",accDisplayed:{organization:{name:""},userinfo:{image:"",first_name:"",last_name:"",role:{role:""}}}}},computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])("auth",["user"])),Object(i["c"])("osa",["organizations"])),mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.title="Organization Members",t.initialLoading=!0,t.isLoading=!0,e.next=5,t.$store.dispatch("auth/checkAuthUser");case 5:return e.next=7,t.$store.dispatch("osa/getOrganizations",1);case 7:t.isLoading=!1,t.initialLoading=!1;case 9:case"end":return e.stop()}}),e)})))()},methods:{setCurrentOrganization:function(){var t=this;this.organizations.data.forEach((function(e){e.id==t.selectedOrganization&&(t.currentOrganization=e.members)}))},searchOrganizationMember:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isSearching=!0,a={search:e.search},n.next=4,e.$store.dispatch("osa/searchOrganization",{page:t,data:a});case 4:e.isSearching=!1;case 5:case"end":return n.stop()}}),n)})))()},getOrgMembers:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:1,n.next=3,e.$store.dispatch("osa/getOrganizations",a);case 3:case"end":return n.stop()}}),n)})))()},orgmembersSearch:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:1,e.isSearching=!0,""!=e.search){n.next=8;break}return n.next=5,e.getOrgMembers(a);case 5:e.isSearching=!1,n.next=11;break;case 8:return n.next=10,e.searchOrganizationMember(a);case 10:e.isSearching=!1;case 11:case"end":return n.stop()}}),n)})))()}}},p=d,v=n("2877"),f=Object(v["a"])(p,a,r,!1,null,null,null);e["default"]=f.exports},"841c":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),s=n("1d80"),o=n("129f"),i=n("14c3");a("search",1,(function(t,e,n){return[function(e){var n=s(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](String(n))},function(t){var a=n(e,t,this);if(a.done)return a.value;var s=r(t),c=String(this),l=s.lastIndex;o(l,0)||(s.lastIndex=0);var u=i(s,c);return o(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]}))},9263:function(t,e,n){"use strict";var a=n("ad6d"),r=n("9f7f"),s=n("5692"),o=RegExp.prototype.exec,i=s("native-string-replace",String.prototype.replace),c=o,l=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=l||d||u;p&&(c=function(t){var e,n,r,s,c=this,p=u&&c.sticky,v=a.call(c),f=c.source,m=0,g=t;return p&&(v=v.replace("y",""),-1===v.indexOf("g")&&(v+="g"),g=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,m++),n=new RegExp("^(?:"+f+")",v)),d&&(n=new RegExp("^"+f+"$(?!\\s)",v)),l&&(e=c.lastIndex),r=o.call(p?n:c,g),p?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=c.lastIndex,c.lastIndex+=r[0].length):c.lastIndex=0:l&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),d&&r&&r.length>1&&i.call(r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),t.exports=c},"9f7f":function(t,e,n){"use strict";var a=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("9263"),s=n("d039"),o=n("b622"),i=n("9112"),c=o("species"),l=RegExp.prototype,u=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),p=o("replace"),v=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),f=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,p){var m=o(t),g=!s((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),_=g&&!s((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return e=!0,null},n[m](""),!e}));if(!g||!_||"replace"===t&&(!u||!d||v)||"split"===t&&!f){var b=/./[m],h=n(m,""[t],(function(t,e,n,a,s){var o=e.exec;return o===r||o===l.exec?g&&!s?{done:!0,value:b.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}),x=h[0],w=h[1];a(String.prototype,t,x),a(l,m,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}p&&i(l[m],"sham",!0)}}}]);
//# sourceMappingURL=chunk-2a78b55c.fadf9777.js.map