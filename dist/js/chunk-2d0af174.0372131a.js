(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af174"],{"0d9c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4"},[a("div",{staticClass:"row justify-content-center mt-3"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"card p-5 mb-4"},[e._m(0),a("div",{staticClass:"d-flex justify-content-end mt-2"},[a("button",{staticClass:"btn btn-purple btn-sm me-2",on:{click:function(t){return t.preventDefault(),e.$bvModal.show("newTelModal")}}},[a("i",{staticClass:"bi bi-plus-circle"}),e._v(" Telephone")]),a("div",{staticClass:"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3"},[a("div",{staticClass:"input-group form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search_tel,expression:"search_tel"}],staticClass:"form-control",attrs:{type:"text",id:"floatingSearchOrg",placeholder:"Search here"},domProps:{value:e.search_tel},on:{input:function(t){t.target.composing||(e.search_tel=t.target.value)}}}),a("label",{attrs:{for:"floatingSearchOrg"}},[e._v("Search here")]),e._m(1)])])]),a("div",{staticClass:"table-responsive mt-3"},[0==e.contacts.data?a("div",[e._v("No telephone found")]):e._e(),e.initialLoading||e.isSearching?a("b-skeleton-table",{attrs:{rows:4,columns:3,"table-props":{bordered:!1,striped:!0}}}):a("table",{staticClass:"table table-hover"},[a("caption",[e._v("Showing "+e._s(e.contacts.from)+" to "+e._s(e.contacts.to)+" of "+e._s(e.contacts.total)+" data")]),a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("ID")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[e._v("Office Name")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[e._v("Telephone Number")]),a("th",{attrs:{scope:"col"}},[e._v("Actions")])])]),a("tbody",e._l(e.contacts.data,(function(t,n){return a("tr",{key:n},[a("th",{attrs:{scope:"col"}},[e._v(e._s(e.contacts.from+n))]),a("td",[e._v(e._s(t.name))]),a("td",{staticClass:"text-nowrap"},[e._v(e._s(t.tel_num))]),a("td",[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-sm btn-success rounded-pill btn-approve me-2",attrs:{href:""},on:{click:function(a){a.preventDefault(),e.update=t,e.$bvModal.show("updateTelModal")}}},[a("i",{staticClass:"bi bi-pencil-square"})]),a("button",{staticClass:"btn btn-sm btn-danger rounded-pill btn-approve me-2",on:{click:function(a){e.deleteTel=t.id,e.$bvModal.show("deleteModal")}}},[a("i",{staticClass:"bi bi-trash"})])])])])})),0)])],1),e.contacts.data?a("div",{staticClass:"row mt-3"},[a("pagination",{attrs:{showDisabled:!0,align:"right",data:e.contacts},on:{"pagination-change-page":e.contactSearch}},[e._v("> "),a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[e._v("«")]),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[e._v("»")])])],1):e._e()])])])]),a("b-modal",{attrs:{id:"newTelModal",centered:"",title:"New Contact"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"success",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.saveTel.apply(null,arguments)}}},[e._v(" Save Telephone ")])]}}])},[a("div",{staticClass:"form-floating mb-2 mt-3 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tel.name,expression:"tel.name"}],staticClass:"form-control",attrs:{type:"text",id:"newTelName",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:e.tel.name},on:{input:function(t){t.target.composing||e.$set(e.tel,"name",t.target.value)}}}),a("label",{attrs:{for:"newTelName"}},[e._v("Office Name")])]),a("div",{staticClass:"form-floating mb-2 mt-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tel.tel_num,expression:"tel.tel_num"}],staticClass:"form-control",attrs:{type:"text",id:"newTelNumber",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:e.tel.tel_num},on:{input:function(t){t.target.composing||e.$set(e.tel,"tel_num",t.target.value)}}}),a("label",{attrs:{for:"newTelNumber"}},[e._v("Telephone Number")])])]),a("b-modal",{attrs:{id:"updateTelModal",centered:"",title:"Update Contact"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"success",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.updateTel.apply(null,arguments)}}},[e._v(" Update ")])]}}])},[a("div",{staticClass:"form-floating mb-2 mt-3 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.update.name,expression:"update.name"}],staticClass:"form-control",attrs:{type:"text",id:"updateTelName",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:e.update.name},on:{input:function(t){t.target.composing||e.$set(e.update,"name",t.target.value)}}}),a("label",{attrs:{for:"updateTelName"}},[e._v("Office Name")])]),a("div",{staticClass:"form-floating mb-2 mt-4 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.update.tel_num,expression:"update.tel_num"}],staticClass:"form-control",attrs:{type:"text",id:"updateTelNumber",placeholder:"name@example.com",autocomplete:"off"},domProps:{value:e.update.tel_num},on:{input:function(t){t.target.composing||e.$set(e.update,"tel_num",t.target.value)}}}),a("label",{attrs:{for:"updateTelNumber"}},[e._v("Telephone Number")])])]),a("b-modal",{attrs:{id:"deleteModal",centered:"",title:"Confirm Delete"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"danger",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.destroyTel.apply(null,arguments)}}},[e._v(" Delete ")])]}}])},[a("p",{},[e._v("Are you sure to delete this contact?")])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"d-flex flex-column me-auto mt-2"},[a("h5",{staticClass:"text-violet"},[e._v("Telephone Directory")]),a("p",{staticClass:"mb-4"},[a("small",[e._v("Manage telephone directory below")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"btn btn-purple"},[a("i",{staticClass:"bi bi-search"})])}],r=a("1da1"),o=a("5530"),i=(a("96cf"),a("2f62")),c=a("c1df"),l=a.n(c),u=a("2ef0"),d={data:function(){return{initialLoading:!1,isLoading:!1,isSearching:!1,search_tel:"",tel:{name:"",tel_num:""},update:{name:"",tel_num:""},deleteTel:""}},filters:{moment:function(e){return l()(e).format("MMMM D, YYYY, h:mm a")}},computed:Object(o["a"])(Object(o["a"])({},Object(i["c"])("auth",["user"])),Object(i["c"])("universityinfo",["contacts"])),watch:{search_tel:function(e,t){this.isSearching=!0,this.debouncedContactSearch(),this.isSearching=!1}},created:function(){this.debouncedContactSearch=u.debounce(this.contactSearch,1e3)},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initialLoading=!0,t.next=3,e.$store.dispatch("universityinfo/getTel",1);case 3:e.initialLoading=!1;case 4:case"end":return t.stop()}}),t)})))()},methods:{saveTel:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("universityinfo/saveTel",e.tel);case 3:if(a=t.sent,200!=a.status){t.next=10;break}return t.next=7,e.$store.dispatch("universityinfo/getTel",1);case 7:e.$toast.success("Telephone added successfully!"),e.$bvModal.hide("newTelModal"),e.tel={name:"",tel_num:""};case 10:e.isLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},updateTel:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("universityinfo/updateTel",e.update);case 3:if(a=t.sent,200!=a.status){t.next=10;break}return t.next=7,e.$store.dispatch("universityinfo/getTel",1);case 7:e.$toast.success("Telephone updated successfully!"),e.$bvModal.hide("updateTelModal"),e.update={name:"",tel_num:""};case 10:e.isLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},destroyTel:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("universityinfo/deleteTel",e.deleteTel);case 3:if(a=t.sent,200!=a.status){t.next=11;break}return t.next=7,e.$store.dispatch("universityinfo/getTel",1);case 7:e.$toast.success("Telephone deleted successfully!"),e.$bvModal.hide("deleteModal"),t.next=12;break;case 11:e.$toast.error("Something went wrong");case 12:e.isLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},getTel:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("universityinfo/getTel",e);case 2:case"end":return a.stop()}}),a)})))()},searchContact:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isSearching=!0,n={search:t.search_tel},a.next=4,t.$store.dispatch("universityinfo/searchTel",{page:e,data:n});case 4:t.isSearching=!1;case 5:case"end":return a.stop()}}),a)})))()},contactSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;""==this.search_tel?this.getTel(e):this.searchContact(e)}}},p=d,m=a("2877"),v=Object(m["a"])(p,n,s,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0af174.0372131a.js.map