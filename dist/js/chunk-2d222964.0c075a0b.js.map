{"version":3,"sources":["webpack:///./src/views/user/osa/ArchivedPost.vue?7d08","webpack:///src/views/user/osa/ArchivedPost.vue","webpack:///./src/views/user/osa/ArchivedPost.vue?e335","webpack:///./src/views/user/osa/ArchivedPost.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","search_post","_v","posts","_e","bordered","striped","initialLoading","_s","from","to","total","_l","post","i","key","preventDefault","viewPost","$bvModal","show","postcontent","imgURL","image","title","useraccount","userinfo","first_name","last_name","post_excerpt","status","_f","created_at","restorePost","id","slot","scopedSlots","_u","fn","ref","cancel","isLoading","revertPost","apply","arguments","destroyPost","content","views","approvePost","staticRenderFns","filters","moment","computed","methods","watch","postSearch","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,MAAM,CAACE,YAAY,kDAAkD,CAACF,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACN,EAAIO,GAAG,GAAGH,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,MAAM,CAACE,YAAY,6CAA6C,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOX,EAAe,YAAEY,WAAW,gBAAgBN,YAAY,eAAeO,MAAM,CAAC,KAAO,OAAO,GAAK,oBAAoB,YAAc,eAAeC,SAAS,CAAC,MAASd,EAAe,aAAGe,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBlB,EAAImB,YAAYH,EAAOC,OAAON,WAAUP,EAAG,QAAQ,CAACS,MAAM,CAAC,IAAM,sBAAsB,CAACb,EAAIoB,GAAG,iBAAiBpB,EAAIO,GAAG,SAASH,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAAe,GAAbN,EAAIqB,MAAYjB,EAAG,MAAM,CAACJ,EAAIoB,GAAG,oBAAoBpB,EAAIsB,KAAMtB,EAAkB,eAAEI,EAAG,mBAAmB,CAACS,MAAM,CAAC,KAAO,EAAE,QAAU,EAAE,cAAc,CAAEU,UAAU,EAAOC,SAAS,MAAUxB,EAAIsB,KAAOtB,EAAIyB,eAA0oDzB,EAAIsB,KAA9nDlB,EAAG,QAAQ,CAACE,YAAY,qBAAqB,CAACF,EAAG,UAAU,CAACJ,EAAIoB,GAAG,WAAWpB,EAAI0B,GAAG1B,EAAIqB,MAAMM,MAAM,OAAO3B,EAAI0B,GAAG1B,EAAIqB,MAAMO,IAAI,WAAW5B,EAAI0B,GAAG1B,EAAIqB,MAAMQ,OAAO,aAAa7B,EAAIO,GAAG,GAAGH,EAAG,QAAQJ,EAAI8B,GAAI9B,EAAIqB,MAAU,MAAE,SAASU,EAAKC,GAAG,OAAO5B,EAAG,KAAK,CAAC6B,IAAID,GAAG,CAAC5B,EAAG,KAAK,CAACW,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOkB,iBAAiBlC,EAAImC,SAAWJ,EAAM/B,EAAIoC,SAASC,KAAK,oBAAoB,CAAEN,EAAKO,YAAiB,MAAElC,EAAG,MAAM,CAACS,MAAM,CAAC,IAAMb,EAAIuC,OAAS,IAAMR,EAAKO,YAAYE,MAAM,IAAM,GAAG,MAAQ,SAASpC,EAAG,IAAI,CAACE,YAAY,cAAc,CAACN,EAAIoB,GAAG,gBAAgBhB,EAAG,KAAK,CAACE,YAAY,6BAA6BS,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOkB,iBAAiBlC,EAAImC,SAAWJ,EAAM/B,EAAIoC,SAASC,KAAK,oBAAoB,CAACrC,EAAIoB,GAAG,IAAIpB,EAAI0B,GAAGK,EAAKO,YAAYG,OAAO,KAAKrC,EAAG,MAAMA,EAAG,OAAO,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACJ,EAAIoB,GAAG,aAAapB,EAAI0B,GAAGK,EAAKW,YAAYC,SAASC,YAAY,IAAI5C,EAAI0B,GAAGK,EAAKW,YAAYC,SAASE,kBAAkBzC,EAAG,KAAK,CAACE,YAAY,iBAAiBS,GAAG,CAAC,MAAQ,SAASC,GAAQA,EAAOkB,iBAAiBlC,EAAImC,SAAWJ,EAAM/B,EAAIoC,SAASC,KAAK,oBAAoB,CAACrC,EAAIoB,GAAGpB,EAAI0B,GAAGK,EAAKO,YAAYQ,iBAAiB1C,EAAG,KAAK,CAACE,YAAY,kBAAkB,CAACF,EAAG,UAAU,CAACS,MAAM,CAAC,QAAyB,YAAfkB,EAAKgB,OAAuB,uBAAuB,sBAAsB,CAAC/C,EAAIoB,GAAGpB,EAAI0B,GAAGK,EAAKgB,YAAY,GAAG3C,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIoB,GAAGpB,EAAI0B,GAAG1B,EAAIgD,GAAG,SAAPhD,CAAiB+B,EAAKkB,gBAAgB7C,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,uCAAuCS,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAIkD,YAAcnB,EAAKoB,GAAInD,EAAIoC,SAASC,KAAK,mBAAmB,CAACjC,EAAG,IAAI,CAACE,YAAY,uBAAuBN,EAAIoB,GAAG,sBAAqB,MAAe,GAAIpB,EAAIqB,MAAU,KAAEjB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,aAAa,CAACS,MAAM,CAAC,cAAe,EAAK,MAAQ,QAAQ,KAAOb,EAAIqB,QAAQ,CAACjB,EAAG,OAAO,CAACS,MAAM,CAAC,KAAO,YAAYuC,KAAK,YAAY,CAACpD,EAAIoB,GAAG,OAAOhB,EAAG,OAAO,CAACS,MAAM,CAAC,KAAO,YAAYuC,KAAK,YAAY,CAACpD,EAAIoB,GAAG,UAAU,GAAGpB,EAAIsB,aAAalB,EAAG,UAAU,CAACS,MAAM,CAAC,GAAK,eAAe,SAAW,GAAG,MAAQ,mBAAmBwC,YAAYrD,EAAIsD,GAAG,CAAC,CAACrB,IAAI,eAAesB,GAAG,SAASC,GAC/xG,IAAIC,EAASD,EAAIC,OACjB,MAAO,CAACrD,EAAG,WAAW,CAACS,MAAM,CAAC,QAAU,WAAWE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOyC,OAAY,CAACzD,EAAIoB,GAAG,cAAchB,EAAG,WAAW,CAACS,MAAM,CAAC,QAAU,SAAS,SAAWb,EAAI0D,WAAW3C,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOkB,iBAAwBlC,EAAI2D,WAAWC,MAAM,KAAMC,cAAc,CAAC7D,EAAIoB,GAAG,qBAAqB,CAAChB,EAAG,IAAI,GAAG,CAACJ,EAAIoB,GAAG,mDAAmDhB,EAAG,UAAU,CAACS,MAAM,CAAC,GAAK,cAAc,SAAW,GAAG,MAAQ,kBAAkBwC,YAAYrD,EAAIsD,GAAG,CAAC,CAACrB,IAAI,eAAesB,GAAG,SAASC,GACxgB,IAAIC,EAASD,EAAIC,OACjB,MAAO,CAACrD,EAAG,WAAW,CAACS,MAAM,CAAC,QAAU,WAAWE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOyC,OAAY,CAACzD,EAAIoB,GAAG,cAAchB,EAAG,WAAW,CAACS,MAAM,CAAC,QAAU,SAAS,SAAWb,EAAI0D,WAAW3C,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOkB,iBAAwBlC,EAAI8D,YAAYF,MAAM,KAAMC,cAAc,CAAC7D,EAAIoB,GAAG,oBAAoB,CAAChB,EAAG,IAAI,GAAG,CAACJ,EAAIoB,GAAG,yCAAyChB,EAAG,UAAU,CAACS,MAAM,CAAC,GAAK,gBAAgB,WAAa,GAAG,SAAW,GAAG,MAAQb,EAAImC,SAASG,YAAYG,OAAOY,YAAYrD,EAAIsD,GAAG,CAAC,CAACrB,IAAI,eAAesB,GAAG,SAASC,GAC9hB,IAAIC,EAASD,EAAIC,OACjB,MAAO,CAACrD,EAAG,WAAW,CAACS,MAAM,CAAC,QAAU,WAAWE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOyC,OAAY,CAACzD,EAAIoB,GAAG,mBAAmB,CAAChB,EAAG,MAAM,CAACU,SAAS,CAAC,UAAYd,EAAI0B,GAAG1B,EAAImC,SAASG,YAAYyB,YAAa/D,EAAImC,SAAoB,YAAE/B,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACJ,EAAIoB,GAAG,cAAchB,EAAG,SAAS,CAACJ,EAAIoB,GAAGpB,EAAI0B,GAAG1B,EAAImC,SAASO,YAAYC,SAASC,YAAY,IAAI5C,EAAI0B,GAAG1B,EAAImC,SAASO,YAAYC,SAASE,kBAAkB7C,EAAIsB,KAAKlB,EAAG,IAAI,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACJ,EAAIoB,GAAG,gBAAgBpB,EAAI0B,GAAG1B,EAAIgD,GAAG,SAAPhD,CAAiBA,EAAImC,SAASc,kBAAkB7C,EAAG,IAAI,GAAG,CAACA,EAAG,QAAQ,CAACJ,EAAIoB,GAAG,UAAUpB,EAAI0B,GAAG1B,EAAImC,SAAS6B,cAAc5D,EAAG,UAAU,CAACS,MAAM,CAAC,GAAK,mBAAmB,SAAW,GAAG,MAAQ,mBAAmBwC,YAAYrD,EAAIsD,GAAG,CAAC,CAACrB,IAAI,eAAesB,GAAG,SAASC,GACvwB,IAAIC,EAASD,EAAIC,OACjB,MAAO,CAACrD,EAAG,WAAW,CAACS,MAAM,CAAC,SAAWb,EAAI0D,UAAU,QAAU,WAAW3C,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOyC,OAAY,CAACzD,EAAIoB,GAAG,cAAchB,EAAG,WAAW,CAACS,MAAM,CAAC,SAAWb,EAAI0D,UAAU,QAAU,WAAW3C,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOkB,iBAAwBlC,EAAIiE,YAAYL,MAAM,KAAMC,cAAc,CAAC7D,EAAIoB,GAAG,qBAAqB,CAAChB,EAAG,IAAI,GAAG,CAACJ,EAAIoB,GAAG,oDAAoD,IAC5Z8C,EAAkB,CAAC,WAAa,IAAIlE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,mCAAmC,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACN,EAAIoB,GAAG,mBAAmBhB,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACJ,EAAIoB,GAAG,oCAAoC,WAAa,IAAIpB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,kBAAkB,CAACF,EAAG,IAAI,CAACE,YAAY,oBAAoB,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,cAAcO,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,WAAWhB,EAAG,KAAK,CAACE,YAAY,cAAcO,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,WAAWhB,EAAG,KAAK,CAACE,YAAY,cAAcO,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,kBAAkBhB,EAAG,KAAK,CAACE,YAAY,cAAcO,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,YAAYhB,EAAG,KAAK,CAACE,YAAY,cAAcO,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,iBAAiBhB,EAAG,KAAK,CAACE,YAAY,cAAcO,MAAM,CAAC,MAAQ,QAAQ,CAACb,EAAIoB,GAAG,mB,qECsI3kC,GACE,KADF,WAEI,MAAO,CACL,SAAN,CACQ,YAAR,CACU,MAAV,GACU,QAAV,KAGM,KAAN,CACQ,SAAR,IAEM,gBAAN,EACM,WAAN,EACM,aAAN,EACM,YAAN,GACM,aAAN,CACQ,GAAR,IAEM,KAAN,CACQ,MAAR,GACQ,QAAR,GACQ,MAAR,IAEM,OAAN,CACQ,MAAR,GACQ,QAAR,GACQ,MAAR,IAEM,WAAN,GACM,YAAN,KAGE+C,QAAS,CACPC,OAAQ,SAAZ,GACM,OAAO,IAAb,mCAGEC,SAAU,OAAZ,OAAY,CAAZ,kBACA,iCACA,4CAEE,QA1CF,WA0CA,+JACA,8CACA,oBAFA,SAGA,kBAHA,uBAIA,uCAJA,uBAKA,qCALA,OAMA,oBANA,8CAQEC,QAAS,OAAX,OAAW,CAAX,kBAEA,0CAFA,IAGI,WAHJ,WAGA,qKACA,eADA,SAEA,wDAFA,UAEA,EAFA,OAGA,cAHA,iCAIA,eAJA,OAKA,4CACA,gCANA,wBAQA,uCARA,QAUA,eAVA,+CAYI,aAfJ,WAeA,qKACA,eADA,SAEA,6CAFA,UAEA,EAFA,OAGA,cAHA,uBAIA,iCACA,2DALA,SAMA,qCANA,OAQA,eARA,+CAUI,WAzBJ,SAyBA,wKACA,GACA,sBAEA,iBAJA,SAKA,qDALA,OAMA,iBANA,8CAQI,QAjCJ,SAiCA,2KACA,wCADA,8CAGI,WApCJ,WAoCA,gNACA,kBADA,gCAEA,uCAFA,6BAKA,gBALA,gDASEC,MAAO,CACLpD,YADJ,SACA,KACMlB,KAAKuE,gBChPyW,I,YCOhXC,EAAY,eACd,EACA1E,EACAmE,GACA,EACA,KACA,KACA,MAIa,aAAAO,E","file":"js/chunk-2d222964.0c075a0b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4\"},[_c('div',{staticClass:\"row justify-content-center mt-3\"},[_c('div',{staticClass:\"col-12 col-sm-11 col-md-12 col-lg-12 col-xl-12\"},[_c('div',{staticClass:\"card pe-5 ps-5 pb-4 pt-5 mb-4\"},[_vm._m(0),_c('div',{staticClass:\"d-flex justify-content-end mt-2\"},[_c('div',{staticClass:\"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3\"},[_c('div',{staticClass:\"input-group form-floating\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search_post),expression:\"search_post\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"floatingSearchOrg\",\"placeholder\":\"Search here\"},domProps:{\"value\":(_vm.search_post)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search_post=$event.target.value}}}),_c('label',{attrs:{\"for\":\"floatingSearchOrg\"}},[_vm._v(\"Search here\")]),_vm._m(1)])])]),_c('div',{staticClass:\"table-responsive mt-4\"},[(_vm.posts == 0)?_c('div',[_vm._v(\"No Posts found\")]):_vm._e(),(_vm.initialLoading)?_c('b-skeleton-table',{attrs:{\"rows\":4,\"columns\":7,\"table-props\":{ bordered: false, striped: true }}}):_vm._e(),(!_vm.initialLoading)?_c('table',{staticClass:\"table table-hover\"},[_c('caption',[_vm._v(\"Showing \"+_vm._s(_vm.posts.from)+\" to \"+_vm._s(_vm.posts.to)+\" out of \"+_vm._s(_vm.posts.total)+\" posts.\")]),_vm._m(2),_c('tbody',_vm._l((_vm.posts.data),function(post,i){return _c('tr',{key:i},[_c('td',{on:{\"click\":function($event){$event.preventDefault();_vm.viewPost = post; _vm.$bvModal.show('viewPostModal')}}},[(post.postcontent.image)?_c('img',{attrs:{\"src\":_vm.imgURL + \"/\" + post.postcontent.image,\"alt\":\"\",\"width\":\"100\"}}):_c('p',{staticClass:\"text-muted\"},[_vm._v(\"No Image\")])]),_c('td',{staticClass:\"text-nowrap cursor-pointer\",on:{\"click\":function($event){$event.preventDefault();_vm.viewPost = post; _vm.$bvModal.show('viewPostModal')}}},[_vm._v(\" \"+_vm._s(post.postcontent.title)+\" \"),_c('br'),_c('span',{staticClass:\"text-muted\"},[_c('small',[_vm._v(\"Added by: \"+_vm._s(post.useraccount.userinfo.first_name)+\" \"+_vm._s(post.useraccount.userinfo.last_name))])])]),_c('td',{staticClass:\"cursor-pointer\",on:{\"click\":function($event){$event.preventDefault();_vm.viewPost = post; _vm.$bvModal.show('viewPostModal')}}},[_vm._v(_vm._s(post.postcontent.post_excerpt))]),_c('td',{staticClass:\"cursor-pointer\"},[_c('b-badge',{attrs:{\"variant\":post.status == 'Approved' ? 'success rounded-pill':'info rounded-pill'}},[_vm._v(_vm._s(post.status))])],1),_c('td',{staticClass:\"text-nowrap\"},[_vm._v(_vm._s(_vm._f(\"moment\")(post.created_at)))]),_c('td',[_c('button',{staticClass:\"btn btn-sm btn-secondary d-flex me-2\",on:{\"click\":function($event){_vm.restorePost = post.id; _vm.$bvModal.show('restoreModal')}}},[_c('i',{staticClass:\"bi bi-recycle me-1\"}),_vm._v(\" Restore \")])])])}),0)]):_vm._e()],1),(_vm.posts.data)?_c('div',{staticClass:\"row mt-3\"},[_c('pagination',{attrs:{\"showDisabled\":true,\"align\":'right',\"data\":_vm.posts}},[_c('span',{attrs:{\"slot\":\"prev-nav\"},slot:\"prev-nav\"},[_vm._v(\"«\")]),_c('span',{attrs:{\"slot\":\"next-nav\"},slot:\"next-nav\"},[_vm._v(\"»\")])])],1):_vm._e()])])])]),_c('b-modal',{attrs:{\"id\":\"restoreModal\",\"centered\":\"\",\"title\":\"Confirm Restore\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"danger\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){$event.preventDefault();return _vm.revertPost.apply(null, arguments)}}},[_vm._v(\" Restore \")])]}}])},[_c('p',{},[_vm._v(\"Are you sure you want to restore this post?\")])]),_c('b-modal',{attrs:{\"id\":\"deleteModal\",\"centered\":\"\",\"title\":\"Confirm Delete\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"danger\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){$event.preventDefault();return _vm.destroyPost.apply(null, arguments)}}},[_vm._v(\" Delete \")])]}}])},[_c('p',{},[_vm._v(\"Are you sure to delete this post?\")])]),_c('b-modal',{attrs:{\"id\":\"viewPostModal\",\"scrollable\":\"\",\"centered\":\"\",\"title\":_vm.viewPost.postcontent.title},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Close \")])]}}])},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.viewPost.postcontent.content)}}),(_vm.viewPost.useraccount)?_c('p',{staticClass:\"mt-3\"},[_c('small',[_vm._v(\"Added by: \"),_c('strong',[_vm._v(_vm._s(_vm.viewPost.useraccount.userinfo.first_name)+\" \"+_vm._s(_vm.viewPost.useraccount.userinfo.last_name))])])]):_vm._e(),_c('p',{staticClass:\"text-muted \"},[_c('small',[_vm._v(\"Date Posted: \"+_vm._s(_vm._f(\"moment\")(_vm.viewPost.created_at)))])]),_c('p',{},[_c('small',[_vm._v(\"Views: \"+_vm._s(_vm.viewPost.views))])])]),_c('b-modal',{attrs:{\"id\":\"approvePostModal\",\"centered\":\"\",\"title\":\"Confirm Approve\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"disabled\":_vm.isLoading,\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"disabled\":_vm.isLoading,\"variant\":\"success\"},on:{\"click\":function($event){$event.preventDefault();return _vm.approvePost.apply(null, arguments)}}},[_vm._v(\" Approve \")])]}}])},[_c('p',{},[_vm._v(\"Are you sure you want to approve this post?\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',{staticClass:\"d-flex flex-column me-auto mt-2\"},[_c('h5',{staticClass:\"text-violet\"},[_vm._v(\"DELETED POSTS\")]),_c('p',{staticClass:\"mb-4\"},[_c('small',[_vm._v(\"Manage your posts below\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-purple\"},[_c('i',{staticClass:\"bi bi-search\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Image\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Title\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Post Excerpt\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Status\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Date Posted\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Actions\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n <div>\r\n    <div class=\"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4\">\r\n     <div class=\"row justify-content-center mt-3\">\r\n        <div class=\"col-12 col-sm-11 col-md-12 col-lg-12 col-xl-12\">\r\n          <div class=\"card pe-5 ps-5 pb-4 pt-5 mb-4\">\r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"d-flex flex-column me-auto mt-2\">\r\n                <h5 class=\"text-violet\">DELETED POSTS</h5>\r\n                <p class=\"mb-4\"><small>Manage your posts below</small></p>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-end mt-2\">\r\n              <!-- <button v-on:click.prevent=\"$bvModal.show('scheduleModal')\" class=\"btn btn-primary btn-sm me-2\"><i class=\"bi bi-clock\"></i> Schedule</button> -->\r\n              <div class=\"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3\">\r\n                <div class=\"input-group form-floating\">\r\n                  <input v-model=\"search_post\" type=\"text\"  class=\"form-control\" id=\"floatingSearchOrg\" placeholder=\"Search here\">\r\n                  <label  for=\"floatingSearchOrg\" class=\"\">Search here</label>\r\n                  <button class=\"btn btn-purple\"><i class=\"bi bi-search\"></i></button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"table-responsive mt-4\">\r\n              <div v-if=\"posts == 0\">No Posts found</div>\r\n              <b-skeleton-table\r\n                  :rows=\"4\"\r\n                  :columns=\"7\"\r\n                  :table-props=\"{ bordered: false, striped: true }\"\r\n                  v-if=\"initialLoading\"\r\n                ></b-skeleton-table>\r\n              <table class=\"table table-hover\" v-if=\"!initialLoading\">\r\n                <caption>Showing {{posts.from}} to {{posts.to}} out of {{posts.total}} posts.</caption>\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Image</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Title</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Post Excerpt</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Status</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Date Posted</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(post, i) in posts.data\" :key=\"i\">\r\n                    <td v-on:click.prevent=\"viewPost = post; $bvModal.show('viewPostModal')\">\r\n                      <img v-if=\"post.postcontent.image\" :src=\"`${imgURL}/` + post.postcontent.image\" alt=\"\" class=\"\" width=\"100\"/>\r\n                      <p class=\"text-muted\" v-else>No Image</p>\r\n                    </td>\r\n                    <td class=\"text-nowrap cursor-pointer\" v-on:click.prevent=\"viewPost = post; $bvModal.show('viewPostModal')\">\r\n                      {{post.postcontent.title}} <br/>\r\n                      <span class=\"text-muted\"><small>Added by: {{post.useraccount.userinfo.first_name}} {{post.useraccount.userinfo.last_name}}</small></span>\r\n                    </td>\r\n                    <td class=\"cursor-pointer\" v-on:click.prevent=\"viewPost = post; $bvModal.show('viewPostModal')\">{{post.postcontent.post_excerpt}}</td>\r\n                    <td class=\"cursor-pointer\">\r\n                      <b-badge :variant=\"post.status == 'Approved' ? 'success rounded-pill':'info rounded-pill'\">{{post.status}}</b-badge>\r\n                    </td>\r\n                    <td class=\"text-nowrap\">{{post.created_at | moment}}</td>\r\n                    <td>\r\n                      <button @click=\"restorePost = post.id; $bvModal.show('restoreModal')\" class=\"btn btn-sm btn-secondary d-flex me-2\" >\r\n                        <i class=\"bi bi-recycle me-1\"></i> Restore\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"row mt-3\" v-if=\"posts.data\">\r\n              <pagination :showDisabled=\"true\" :align=\"'right'\" :data=\"posts\">\r\n                <span slot=\"prev-nav\">&laquo;</span>\r\n                <span slot=\"next-nav\">&raquo;</span>\r\n              </pagination>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <b-modal id=\"restoreModal\" centered title=\"Confirm Restore\">\r\n      <p class=\"\">Are you sure you want to restore this post?</p>\r\n      <template #modal-footer = {cancel} >\r\n        <b-button variant=\"primary\" @click=\"cancel()\"> Cancel </b-button>\r\n        <b-button variant=\"danger\" v-on:click.prevent=\"revertPost\" :disabled=\"isLoading\">\r\n            Restore\r\n        </b-button>\r\n      </template>\r\n    </b-modal>\r\n\r\n\r\n    <b-modal id=\"deleteModal\" centered title=\"Confirm Delete\">\r\n        <p class=\"\">Are you sure to delete this post?</p>\r\n        <template #modal-footer = {cancel} >\r\n        <b-button variant=\"primary\" @click=\"cancel()\"> Cancel </b-button>\r\n        <b-button variant=\"danger\" v-on:click.prevent=\"destroyPost\" :disabled=\"isLoading\">\r\n            Delete\r\n        </b-button>\r\n        </template>\r\n    </b-modal>\r\n<!-- \r\n    <b-modal id=\"scheduleModal\" centered title=\"Select Schedule\">\r\n        <p class=\"\">Select a schedule for deleting the records automatically</p>\r\n        <p class=\"\">Current Schedule: <span class=\"fw-bold\">{{schedule.deletion == '9999' ? 'None' : schedule.deletion + ' days'}}</span></p>\r\n        <p class=\"mt-3\">Every after</p>\r\n        <select v-model=\"data.schedule\" class=\"form-select\">\r\n          <option value=\"1\">1 day</option>\r\n          <option value=\"2\">2 days</option>\r\n          <option value=\"3\">3 days</option>\r\n          <option value=\"7\">1 week</option>\r\n          <option value=\"30\">1 month</option>\r\n        </select>\r\n        <template #modal-footer = {cancel} >\r\n        <b-button variant=\"primary\" @click=\"cancel()\"> Cancel </b-button>\r\n        <b-button variant=\"success\" v-on:click.prevent=\"saveSchedule\" :disabled=\"isLoading\">\r\n            Save\r\n        </b-button>\r\n        </template>\r\n    </b-modal> -->\r\n\r\n    <b-modal id=\"viewPostModal\" scrollable centered :title=\"viewPost.postcontent.title\">\r\n        <div v-html=\"viewPost.postcontent.content\"></div>\r\n        <p class=\"mt-3\" v-if=\"viewPost.useraccount\"><small>Added by: <strong>{{viewPost.useraccount.userinfo.first_name}} {{viewPost.useraccount.userinfo.last_name}}</strong></small></p>\r\n        <p class=\"text-muted \"><small>Date Posted: {{viewPost.created_at | moment}}</small></p>\r\n        <p class=\"\"><small>Views: {{viewPost.views}}</small></p>\r\n        <template #modal-footer = {cancel} >\r\n          <b-button variant=\"primary\" @click=\"cancel()\"> Close </b-button>\r\n        </template>\r\n    </b-modal>\r\n\r\n    <!--- APPROVE MODAL -->\r\n   <b-modal id=\"approvePostModal\" centered title=\"Confirm Approve\">\r\n    <p class=\"\">Are you sure you want to approve this post?</p>\r\n    <template #modal-footer=\"{cancel}\">\r\n     <b-button :disabled=\"isLoading\" variant=\"primary\" @click=\"cancel()\"> Cancel </b-button>\r\n     <b-button :disabled=\"isLoading\" variant=\"success\" v-on:click.prevent=\"approvePost\">\r\n      Approve\r\n     </b-button>\r\n    </template>\r\n   </b-modal>\r\n\r\n </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\nimport moment from 'moment'\r\nexport default {\r\n    data(){\r\n    return {\r\n       viewPost: {\r\n         postcontent: {\r\n           title: '',\r\n           content: ''\r\n         },\r\n       },\r\n       data: {\r\n         schedule: '',\r\n       },\r\n       initialLoading: false,\r\n       isLoading: false,\r\n       isSearching: false,\r\n       search_post: '',\r\n       approve_post: {\r\n         id: '',\r\n       },\r\n       post: {\r\n           title: '',\r\n           content: '',\r\n           image: '',\r\n       },\r\n       update: {\r\n           title: '',\r\n           content: '',\r\n           image: '',\r\n       },\r\n       deletePost: '',\r\n       restorePost: '',\r\n    }\r\n  },\r\n  filters: {\r\n    moment: function (date) {\r\n      return moment(date).format('MMM D, YYYY, h:mm a');\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('auth', ['user']),\r\n    ...mapState('osa', ['posts', 'schedule']),\r\n  },\r\n  async mounted(){\r\n    document.title = 'Info Kiosk - Post Management'\r\n    this.initialLoading = true\r\n    await this.checkAuthUser()\r\n    await this.$store.dispatch('osa/getArchived', 1);\r\n    await this.$store.dispatch('osa/getSchedule');\r\n    this.initialLoading = false\r\n  },\r\n  methods: {\r\n   //SEARCH NEEDS TO BE FIXED\r\n    ...mapActions('auth', ['checkAuthUser']),\r\n    async revertPost(){\r\n        this.isLoading = true\r\n        const res = await this.$store.dispatch('post/restoreUserPost', this.restorePost)\r\n        if(res.status == 200){\r\n            await this.postSearch()\r\n            this.$toast.success('Post has been restored!')\r\n            this.$bvModal.hide('restoreModal')\r\n        } else {\r\n            this.$toast.error('Something went wrong')\r\n        }\r\n        this.isLoading = false\r\n    },\r\n    async saveSchedule(){\r\n        this.isLoading = true\r\n        const res = await this.$store.dispatch('osa/saveSchedule', this.data)\r\n        if(res.status == 200){\r\n          this.$bvModal.hide('scheduleModal')\r\n          this.$toast.success('Schedule has been updated successfully')\r\n          await this.$store.dispatch('osa/getSchedule');\r\n        }\r\n        this.isLoading = false\r\n    },\r\n    async searchPost(page){\r\n      let data = {\r\n        search: this.search_role\r\n      }\r\n      this.isSearching = true\r\n      await this.$store.dispatch('post/searchPost', {page: page, data: data})\r\n      this.isSearching = false\r\n    },\r\n    async getPost(page){\r\n       await this.$store.dispatch('post/getArchived', page);\r\n    },\r\n    async postSearch(page = 1){\r\n      if(this.search_post == ''){\r\n        await this.$store.dispatch('osa/getArchived', page);\r\n      }\r\n      else {\r\n        this.searchPost(page)\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    search_post(before, after){\r\n      this.postSearch()\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArchivedPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArchivedPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArchivedPost.vue?vue&type=template&id=17c85c0a&\"\nimport script from \"./ArchivedPost.vue?vue&type=script&lang=js&\"\nexport * from \"./ArchivedPost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}