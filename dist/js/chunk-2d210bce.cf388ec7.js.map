{"version":3,"sources":["webpack:///./src/views/user/osa/TelDirectory.vue?bc21","webpack:///src/views/user/osa/TelDirectory.vue","webpack:///./src/views/user/osa/TelDirectory.vue?5e0b","webpack:///./src/views/user/osa/TelDirectory.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","on","$event","preventDefault","$bvModal","show","_v","directives","name","rawName","value","expression","attrs","domProps","target","composing","search_tel","contacts","data","_e","initialLoading","isSearching","bordered","striped","_s","from","to","total","_l","contact","i","key","tel_num","update","deleteTel","id","contactSearch","slot","scopedSlots","_u","fn","ref","cancel","isLoading","saveTel","apply","arguments","tel","$set","updateTel","destroyTel","staticRenderFns","moment","computed","watch","debouncedContactSearch","created","_","debounce","methods","getTel","page","searchContact","component"],"mappings":"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","file":"js/chunk-2d210bce.cf388ec7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4\"},[_c('div',{staticClass:\"row me-0 ms-0 justify-content-center mt-3\"},[_c('div',{staticClass:\"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12\"},[_c('div',{staticClass:\"card p-5 mb-4\"},[_vm._m(0),_c('div',{staticClass:\"d-flex justify-content-end mt-2\"},[_c('button',{staticClass:\"btn btn-purple btn-sm me-2\",on:{\"click\":function($event){$event.preventDefault();return _vm.$bvModal.show('newTelModal')}}},[_c('i',{staticClass:\"bi bi-plus-circle\"}),_vm._v(\" Telephone\")]),_c('div',{staticClass:\"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3\"},[_c('div',{staticClass:\"input-group form-floating\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search_tel),expression:\"search_tel\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"floatingSearchOrg\",\"placeholder\":\"Search here\"},domProps:{\"value\":(_vm.search_tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search_tel=$event.target.value}}}),_c('label',{attrs:{\"for\":\"floatingSearchOrg\"}},[_vm._v(\"Search here\")]),_vm._m(1)])])]),_c('div',{staticClass:\"table-responsive mt-4\"},[(_vm.contacts.data == 0)?_c('div',[_vm._v(\"No telephone found\")]):_vm._e(),(_vm.initialLoading || _vm.isSearching)?_c('b-skeleton-table',{attrs:{\"rows\":4,\"columns\":3,\"table-props\":{ bordered: false, striped: true }}}):_c('table',{staticClass:\"table table-hover\"},[_c('caption',[_vm._v(\"Showing \"+_vm._s(_vm.contacts.from)+\" to \"+_vm._s(_vm.contacts.to)+\" of \"+_vm._s(_vm.contacts.total)+\" data\")]),_c('thead',[_c('tr',[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"ID\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Office Name\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Telephone Number\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Actions\")])])]),_c('tbody',_vm._l((_vm.contacts.data),function(contact,i){return _c('tr',{key:i},[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm.contacts.from + i))]),_c('td',[_vm._v(_vm._s(contact.name))]),_c('td',{staticClass:\"text-nowrap\"},[_vm._v(_vm._s(contact.tel_num))]),_c('td',[_c('div',{staticClass:\"d-flex\"},[_c('button',{staticClass:\"btn btn-sm btn-success rounded-pill btn-approve me-2\",attrs:{\"href\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.update = contact; _vm.$bvModal.show('updateTelModal')}}},[_c('i',{staticClass:\"bi bi-pencil-square\"})]),_c('button',{staticClass:\"btn btn-sm btn-danger rounded-pill btn-approve me-2\",on:{\"click\":function($event){_vm.deleteTel = contact.id; _vm.$bvModal.show('deleteModal')}}},[_c('i',{staticClass:\"bi bi-trash\"})])])])])}),0)])],1),(_vm.contacts.data)?_c('div',{staticClass:\"row mt-3\"},[_c('pagination',{attrs:{\"showDisabled\":true,\"align\":'right',\"data\":_vm.contacts},on:{\"pagination-change-page\":_vm.contactSearch}},[_vm._v(\"> \"),_c('span',{attrs:{\"slot\":\"prev-nav\"},slot:\"prev-nav\"},[_vm._v(\"«\")]),_c('span',{attrs:{\"slot\":\"next-nav\"},slot:\"next-nav\"},[_vm._v(\"»\")])])],1):_vm._e()])])])]),_c('b-modal',{attrs:{\"id\":\"newTelModal\",\"centered\":\"\",\"title\":\"New Contact\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){$event.preventDefault();return _vm.saveTel.apply(null, arguments)}}},[_vm._v(\" Save Telephone \")])]}}])},[_c('div',{staticClass:\"form-floating mb-2 mt-3 \"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tel.name),expression:\"tel.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"newTelName\",\"placeholder\":\"name@example.com\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.tel.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tel, \"name\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"newTelName\"}},[_vm._v(\"Office Name\")])]),_c('div',{staticClass:\"form-floating mb-2 mt-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tel.tel_num),expression:\"tel.tel_num\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"newTelNumber\",\"placeholder\":\"name@example.com\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.tel.tel_num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tel, \"tel_num\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"newTelNumber\"}},[_vm._v(\"Telephone Number\")])])]),_c('b-modal',{attrs:{\"id\":\"updateTelModal\",\"centered\":\"\",\"title\":\"Update Contact\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){$event.preventDefault();return _vm.updateTel.apply(null, arguments)}}},[_vm._v(\" Update \")])]}}])},[_c('div',{staticClass:\"form-floating mb-2 mt-3 \"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.update.name),expression:\"update.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"updateTelName\",\"placeholder\":\"name@example.com\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.update.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.update, \"name\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"updateTelName\"}},[_vm._v(\"Office Name\")])]),_c('div',{staticClass:\"form-floating mb-2 mt-4 \"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.update.tel_num),expression:\"update.tel_num\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"updateTelNumber\",\"placeholder\":\"name@example.com\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.update.tel_num)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.update, \"tel_num\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"updateTelNumber\"}},[_vm._v(\"Telephone Number\")])])]),_c('b-modal',{attrs:{\"id\":\"deleteModal\",\"centered\":\"\",\"title\":\"Confirm Delete\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"danger\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){$event.preventDefault();return _vm.destroyTel.apply(null, arguments)}}},[_vm._v(\" Delete \")])]}}])},[_c('p',{},[_vm._v(\"Are you sure to delete this contact?\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',{staticClass:\"d-flex flex-column me-auto mt-2\"},[_c('h5',{staticClass:\"text-violet\"},[_vm._v(\"Telephone Directory\")]),_c('p',{staticClass:\"mb-4\"},[_c('small',[_vm._v(\"Manage telephone directory below\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-purple\"},[_c('i',{staticClass:\"bi bi-search\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n <div>\r\n    <div class=\"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4\">\r\n     <div class=\"row me-0 ms-0 justify-content-center mt-3\">\r\n        <div class=\"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12\">\r\n          <div class=\"card p-5 mb-4\">\r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"d-flex flex-column me-auto mt-2\">\r\n                <h5 class=\"text-violet\">Telephone Directory</h5>\r\n                <p class=\"mb-4\"><small>Manage telephone directory below</small></p>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-end mt-2\">\r\n              <button v-on:click.prevent=\"$bvModal.show('newTelModal')\" class=\"btn btn-purple btn-sm me-2\"><i class=\"bi bi-plus-circle\"></i> Telephone</button>\r\n              <div class=\"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3\">\r\n                <div class=\"input-group form-floating\">\r\n                  <input type=\"text\" v-model=\"search_tel\" class=\"form-control\" id=\"floatingSearchOrg\" placeholder=\"Search here\">\r\n                  <label  for=\"floatingSearchOrg\" class=\"\">Search here</label>\r\n                  <button class=\"btn btn-purple\"><i class=\"bi bi-search\"></i></button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"table-responsive mt-4\">\r\n              <div v-if=\"contacts.data == 0\">No telephone found</div>\r\n              <b-skeleton-table\r\n                  :rows=\"4\"\r\n                  :columns=\"3\"\r\n                  :table-props=\"{ bordered: false, striped: true }\"\r\n                  v-if=\"initialLoading || isSearching\"\r\n                ></b-skeleton-table>\r\n              <table class=\"table table-hover\" v-else>\r\n                <caption>Showing {{contacts.from}} to {{contacts.to}} of {{contacts.total}} data</caption>\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">ID</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Office Name</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Telephone Number</th>\r\n                    <th scope=\"col\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(contact, i) in contacts.data\" :key=\"i\">\r\n                    <th scope=\"col\">{{contacts.from + i}}</th>\r\n                    <td>{{contact.name}}</td>\r\n                    <td class=\"text-nowrap\">{{contact.tel_num}}</td>\r\n                    <td>\r\n                      <div class=\"d-flex\">\r\n                        <button v-on:click.prevent=\"update = contact; $bvModal.show('updateTelModal')\" href=\"\" class=\"btn btn-sm btn-success rounded-pill btn-approve me-2\" >\r\n                          <i class=\"bi bi-pencil-square\"></i>\r\n                        </button>\r\n                        <button  @click=\"deleteTel = contact.id; $bvModal.show('deleteModal')\" class=\"btn btn-sm btn-danger rounded-pill btn-approve me-2\" >\r\n                          <i class=\"bi bi-trash\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"row mt-3\" v-if=\"contacts.data\">\r\n              <pagination :showDisabled=\"true\" :align=\"'right'\" :data=\"contacts\"  @pagination-change-page=\"contactSearch\">>\r\n                <span slot=\"prev-nav\">&laquo;</span>\r\n                <span slot=\"next-nav\">&raquo;</span>\r\n              </pagination>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- NEW FAQS MODAL --->\r\n    <b-modal id=\"newTelModal\" centered title=\"New Contact\">\r\n        <div class=\"form-floating mb-2 mt-3 \">\r\n        <input v-model=\"tel.name\" type=\"text\" class=\"form-control\" id=\"newTelName\" placeholder=\"name@example.com\" autocomplete=\"off\">\r\n        <label for=\"newTelName\">Office Name</label>\r\n        </div>\r\n        <div class=\"form-floating mb-2 mt-4\">\r\n        <input v-model=\"tel.tel_num\" type=\"text\" class=\"form-control\" id=\"newTelNumber\" placeholder=\"name@example.com\" autocomplete=\"off\">\r\n        <label for=\"newTelNumber\">Telephone Number</label>\r\n        </div>\r\n        <template #modal-footer = {cancel} >\r\n          <b-button variant=\"primary\" @click=\"cancel()\"> Cancel </b-button>\r\n          <b-button variant=\"success\" v-on:click.prevent=\"saveTel\" :disabled=\"isLoading\">\r\n              Save Telephone\r\n          </b-button>\r\n        </template>\r\n    </b-modal>\r\n\r\n    <!-- UPDATE FAQS MODAL --->\r\n    <b-modal id=\"updateTelModal\" centered title=\"Update Contact\">\r\n        <div class=\"form-floating mb-2 mt-3 \">\r\n        <input v-model=\"update.name\" type=\"text\" class=\"form-control\" id=\"updateTelName\" placeholder=\"name@example.com\" autocomplete=\"off\">\r\n        <label for=\"updateTelName\">Office Name</label>\r\n        </div>\r\n        <div class=\"form-floating mb-2 mt-4 \">\r\n        <input v-model=\"update.tel_num\" type=\"text\" class=\"form-control\" id=\"updateTelNumber\" placeholder=\"name@example.com\" autocomplete=\"off\">\r\n        <label for=\"updateTelNumber\">Telephone Number</label>\r\n        </div>\r\n        <template #modal-footer = {cancel} >\r\n        <b-button variant=\"primary\" @click=\"cancel()\"> Cancel </b-button>\r\n        <b-button variant=\"success\" v-on:click.prevent=\"updateTel\" :disabled=\"isLoading\">\r\n            Update\r\n        </b-button>\r\n        </template>\r\n    </b-modal>\r\n\r\n    <!-- DELETE MODAL --->\r\n    <b-modal id=\"deleteModal\" centered title=\"Confirm Delete\">\r\n        <p class=\"\">Are you sure to delete this contact?</p>\r\n        <template #modal-footer = {cancel} >\r\n        <b-button variant=\"primary\" @click=\"cancel()\"> Cancel </b-button>\r\n        <b-button variant=\"danger\" v-on:click.prevent=\"destroyTel\" :disabled=\"isLoading\">\r\n            Delete\r\n        </b-button>\r\n        </template>\r\n    </b-modal>\r\n </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\nimport moment from 'moment'\r\nconst _ = require('lodash');\r\n\r\nexport default {\r\n    data(){\r\n    return {\r\n       initialLoading: false,\r\n       isLoading: false,\r\n       isSearching: false,\r\n       search_tel: '',\r\n       tel: {\r\n           name: '',\r\n           tel_num: ''\r\n       },\r\n       update: {\r\n           name: '',\r\n           tel_num: ''\r\n       },\r\n       deleteTel: '',\r\n    }\r\n  },\r\n    filters: {\r\n    moment: function (date) {\r\n      return moment(date).format('MMMM D, YYYY, h:mm a');\r\n    }\r\n  },\r\n  computed: {\r\n     ...mapState('auth', ['user']),\r\n    ...mapState('osa', ['contacts']),\r\n  },\r\n  watch: {\r\n    search_tel(before, after){\r\n      this.isSearching = true\r\n      this.debouncedContactSearch()\r\n      this.isSearching = false\r\n    },\r\n  },\r\n  created: function () {\r\n    this.debouncedContactSearch = _.debounce(this.contactSearch, 1000)\r\n  },\r\n  async mounted(){\r\n    this.initialLoading = true\r\n    document.title = 'Telephone Directory Management'\r\n    await this.$store.dispatch('osa/getTel', 1);\r\n    this.initialLoading = false\r\n  },\r\n  methods: {\r\n    async saveTel(){\r\n      this.isLoading = true\r\n      const res = await this.$store.dispatch('osa/saveTel', this.tel)\r\n      if(res.status == 200 ){\r\n        await this.$store.dispatch('osa/getTel', 1);\r\n        this.$toast.success('Telephone added successfully!')\r\n        this.$bvModal.hide('newTelModal')\r\n        this.tel = {name: '', tel_num: ''}\r\n      }\r\n      this.isLoading = false\r\n    },\r\n    async updateTel(){\r\n      this.isLoading = true\r\n      const res = await this.$store.dispatch('osa/updateTel', this.update)\r\n      if(res.status == 200 ){\r\n        await this.$store.dispatch('osa/getTel', 1);\r\n        this.$toast.success('Telephone updated successfully!')\r\n        this.$bvModal.hide('updateTelModal')\r\n        this.update = {name: '', tel_num: ''}\r\n      }\r\n      this.isLoading = false\r\n    },\r\n    async destroyTel(){\r\n        this.isLoading = true\r\n        const res = await this.$store.dispatch('osa/deleteTel', this.deleteTel)\r\n        if(res.status == 200){\r\n            await this.$store.dispatch('osa/getTel', 1);\r\n            this.$toast.success('Telephone deleted successfully!')\r\n            this.$bvModal.hide('deleteModal')\r\n        } else {\r\n            this.$toast.error('Something went wrong')\r\n        }\r\n        this.isLoading = false\r\n    },\r\n    async getTel(page){\r\n       await this.$store.dispatch('osa/getTel', page);\r\n    },\r\n    async searchContact(page){\r\n      this.isSearching = true\r\n      let data = {\r\n        search: this.search_tel\r\n      }\r\n      await this.$store.dispatch('osa/searchTel', {page: page, data: data})\r\n      this.isSearching = false\r\n    },\r\n    contactSearch(page = 1){\r\n      if(this.search_tel == ''){\r\n        this.getTel(page)\r\n      }\r\n      else {\r\n        this.searchContact(page)\r\n      }\r\n    },\r\n  },\r\n\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TelDirectory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TelDirectory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TelDirectory.vue?vue&type=template&id=1f307904&\"\nimport script from \"./TelDirectory.vue?vue&type=script&lang=js&\"\nexport * from \"./TelDirectory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}