(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd010"],{8013:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"card pe-5 ps-5 pb-4 pt-5"},[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"d-flex flex-column me-auto mt-2"},[a("h5",[a("router-link",{staticClass:"text-decoration-none text-violet",attrs:{to:"/home/organization"}},[t._v("Organization")]),t._v(" Accounts ")],1),t._m(0)])]),a("div",{staticClass:"row justify-content-end row-reverse flex-md-row mt-2"},[a("div",{staticClass:"col-9 col-sm-6 col-md-6 col-lg-4 col-xl-3 mt-2"},[a("div",{staticClass:"input-group form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_organization,expression:"search_organization"}],staticClass:"form-control",attrs:{type:"text",id:"floatingSearchDep",placeholder:"Search here"},domProps:{value:t.search_organization},on:{input:function(e){e.target.composing||(t.search_organization=e.target.value)}}}),a("label",{attrs:{for:"floatingSearchDep"}},[t._v("Search")]),a("button",{staticClass:"btn btn-purple",on:{click:function(e){return e.preventDefault(),t.organizationSearch.apply(null,arguments)}}},[a("i",{staticClass:"bi bi-search"})])])])]),t.viewPost||t.viewLogs?t._e():a("div",{staticClass:"table-responsive mt-3"},[0==t.org_accounts.data?a("div",{staticClass:"text-center"},[t._v("No deleted accounts under organizations")]):t._e(),t.initialLoading?a("b-skeleton-table",{attrs:{rows:6,columns:6,"table-props":{bordered:!1,striped:!0}}}):t._e(),t.initialLoading?t._e():a("table",{staticClass:"table table-hover"},[a("caption",[t._v("Showing "+t._s(t.org_accounts.from)+" to "+t._s(t.org_accounts.to)+" out of "+t._s(t.org_accounts.total)+" accounts")]),0!=t.org_accounts.data?a("thead",[t._m(1)]):t._e(),t.org_accounts.data?a("tbody",t._l(t.org_accounts.data,(function(e,s){return a("tr",{key:s},[a("th",{staticClass:"justify-content-center cursor-pointer",attrs:{scope:"row"},on:{click:function(a){a.preventDefault(),t.accDisplayed=e,t.$bvModal.show("viewInfoModal")}}},[e.user.userinfo.image?a("b-avatar",{attrs:{variant:"dark",src:t.imgURL+"/"+e.user.userinfo.image}}):a("b-avatar",{attrs:{variant:"dark"}})],1),a("td",{staticClass:"text-nowrap cursor-pointer",on:{click:function(a){a.preventDefault(),t.accDisplayed=e,t.$bvModal.show("viewInfoModal")}}},[t._v(t._s(e.user.userinfo.first_name)+" "+t._s(e.user.userinfo.last_name))]),a("td",{staticClass:"cursor-pointer",on:{click:function(a){a.preventDefault(),t.accDisplayed=e,t.$bvModal.show("viewInfoModal")}}},[t._v(t._s(e.organization.name))]),a("td",[t._v(t._s(e.user.userinfo.role.role))]),a("td",[a("b-badge",{staticClass:"rounded-pill",class:"Approved"==e.user.status?"bg-success":"bg-danger"},[t._v(t._s(e.user.status))])],1),a("td",[t._v(t._s(t._f("moment")(e.created_at)))]),a("td",[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-sm btn-purple rounded-pill text-nowrap me-2",on:{click:function(a){t.userPosts=e.user.posts,t.viewPost=!0}}},[a("i",{staticClass:"bi bi-stickies"})]),a("button",{staticClass:"btn btn-sm btn-purple btn-approve rounded-pill text-nowrap me-2",on:{click:function(a){t.userLogs=e.user.logs,t.viewLogs=!0}}},[a("i",{staticClass:"bi bi-journal-text"})]),a("button",{staticClass:"btn btn-sm btn-purple btn-approve rounded-pill text-nowrap me-2",on:{click:function(a){t.restoreAccount=e.user.id,t.$bvModal.show("restoreModal")}}},[a("i",{staticClass:"bi bi-recycle"})])])])])})),0):t._e()])],1),!t.org_accounts.data||t.viewPost||t.viewLogs?t._e():a("div",{staticClass:"row mt-3"},[a("pagination",{attrs:{showDisabled:!0,align:"right",data:t.org_accounts},on:{"pagination-change-page":t.organizationSearch}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[t._v("«")]),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[t._v("»")])])],1),t.viewPost?a("div",{staticClass:"mt-2"},[a("button",{staticClass:"btn btn-purple",on:{click:function(e){e.preventDefault(),t.viewPost=!1,t.posts=[]}}},[a("i",{staticClass:"bi bi-arrow-left me-2"}),t._v("Return")])]):t._e(),t.viewPost?a("div",{staticClass:"table-responsive mt-3"},[t.isLoading?a("b-skeleton-table",{attrs:{rows:4,columns:7,"table-props":{bordered:!1,striped:!0}}}):t._e(),t.isLoading?t._e():a("table",{staticClass:"table table-hover"},[t._m(2),a("tbody",t._l(t.userPosts,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"cursor-pointer",on:{click:function(a){a.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(s+1))]),a("td",{staticClass:"cursor-pointer",on:{click:function(a){a.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[e.postcontent.image?a("b-avatar",{attrs:{size:"6rem",variant:"dark",src:t.imgURL+"/"+e.postcontent.image}}):a("p",{staticClass:"text-muted"},[t._v("No Image")])],1),a("td",{staticClass:"cursor-pointer text-nowrap",on:{click:function(a){a.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(e.postcontent.title))]),a("td",{staticClass:"cursor-pointer",on:{click:function(a){a.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(e.postcontent.post_excerpt))]),a("td",[a("b-badge",{attrs:{variant:"Approved"==e.status?"success":"info"}},[t._v(t._s(e.status))])],1),a("td",{staticClass:"text-nowrap"},[t._v(t._s(t._f("moment")(e.created_at)))])])})),0)])],1):t._e(),t.viewLogs?a("div",{staticClass:"mt-2"},[a("button",{staticClass:"btn btn-purple",on:{click:function(e){e.preventDefault(),t.viewLogs=!1,t.userLogs=[]}}},[a("i",{staticClass:"bi bi-arrow-left me-2"}),t._v("Return")])]):t._e(),t.viewLogs?a("div",{staticClass:"table-responsive mt-3"},[t.initialLoading||t.isSearching?a("b-skeleton-table",{attrs:{rows:6,columns:5,"table-props":{bordered:!1,striped:!0}}}):a("b-table",{attrs:{id:"orglogstable",items:t.userLogs,fields:["id","log_name","event","description","created_at","actions"],"per-page":8,"current-page":t.orglogspage,striped:""},scopedSlots:t._u([{key:"cell(event)",fn:function(e){return[a("small",[a("b-badge",{attrs:{variant:t.badgeEvent(e.item.event),pill:""}},[t._v(t._s(e.item.event))])],1)]}},{key:"cell(created_at)",fn:function(e){return[t._v(" "+t._s(t._f("moment")(e.item.created_at))+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{variant:"success",size:"sm"},on:{click:function(a){t.selectedLog=e.item,t.$bvModal.show("logInfoModal")}}},[t._v(" View ")])]}}],null,!1,1314687406)}),a("div",{staticClass:"d-flex justify-content-end"},[a("b-pagination",{staticClass:"mt-3",attrs:{"total-rows":t.userLogs.length,"per-page":8,"aria-controls":"orglogstable"},model:{value:t.orglogspage,callback:function(e){t.orglogspage=e},expression:"orglogspage"}})],1)],1):t._e()])])]),a("b-modal",{attrs:{id:"restoreModal",centered:"",title:"Confirm Restore"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.cancel;return[a("b-button",{attrs:{variant:"secondary"},on:{click:function(t){return s()}}},[t._v(" Cancel ")]),a("b-button",{staticClass:"btn-purple",attrs:{disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.revertAccount.apply(null,arguments)}}},[t._v(" Restore ")])]}}])},[a("p",{},[t._v("Are you sure you want to restore this account?")])]),a("div",{staticClass:"row justify-content-center mt-3"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"card pe-5 ps-5 pb-4 pt-5 mb-4"},[a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"d-flex flex-column me-auto mt-3"},[a("h5",[a("router-link",{staticClass:"text-decoration-none text-violet",attrs:{to:"/home/organization"}},[t._v("Unit ")]),t._v(" Accounts ")],1),t._m(3)])]),a("div",{staticClass:"row justify-content-end row-reverse flex-md-row mt-2"},[a("div",{staticClass:"col-9 col-sm-6 col-md-6 col-lg-4 col-xl-3 mt-2"},[a("div",{staticClass:"input-group form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_department,expression:"search_department"}],staticClass:"form-control",attrs:{type:"text",id:"floatingSearchDep",placeholder:"Search here"},domProps:{value:t.search_department},on:{input:function(e){e.target.composing||(t.search_department=e.target.value)}}}),a("label",{attrs:{for:"floatingSearchDep"}},[t._v("Search here")]),a("button",{staticClass:"btn btn-purple",on:{click:function(e){return e.preventDefault(),t.departmentSearch.apply(null,arguments)}}},[a("i",{staticClass:"bi bi-search"})])])])]),a("div",{staticClass:"table-responsive mt-3"},[t.initialLoading?a("b-skeleton-table",{attrs:{rows:4,columns:6,"table-props":{bordered:!1,striped:!0}}}):t._e(),t.initialLoading||t.viewUnitPost||t.viewUnitLogs?t._e():a("table",{staticClass:"table table-hover"},[a("caption",[t._v("Showing "+t._s(t.unit_accounts.from)+" to "+t._s(t.unit_accounts.to)+" out of "+t._s(t.unit_accounts.total)+" accounts")]),0==t.unit_accounts.data?a("div",{staticClass:"text-center"},[t._v("No deleted accounts under unit")]):t._e(),0!=t.unit_accounts.data?a("thead",[t._m(4)]):t._e(),0!=t.unit_accounts.data?a("tbody",t._l(t.unit_accounts.data,(function(e,s){return a("tr",{key:s},[0!=t.unit_accounts.data?a("th",{staticClass:"justify-content-center cursor-pointer",attrs:{scope:"row"},on:{click:function(a){a.preventDefault(),t.accUnitDisplayed=e,t.$bvModal.show("viewDepInfoModal")}}},[e.user.userinfo.image?a("b-avatar",{attrs:{variant:"dark",src:t.imgURL+"/"+e.user.userinfo.image}}):a("b-avatar",{attrs:{variant:"dark"}})],1):t._e(),a("td",{staticClass:"text-nowrap cursor-pointer",on:{click:function(a){a.preventDefault(),t.accUnitDisplayed=e,t.$bvModal.show("viewDepInfoModal")}}},[t._v(" "+t._s(e.user.userinfo.first_name)+" "+t._s(e.user.userinfo.last_name)+" ")]),a("td",{staticClass:"text-nowrap cursor-pointer",on:{click:function(a){a.preventDefault(),t.accUnitDisplayed=e,t.$bvModal.show("viewDepInfoModal")}}},[t._v(t._s(e.department.name))]),a("td",{staticClass:"text-nowrap"},[t._v(t._s(e.user.userinfo.role.role))]),a("td",[a("b-badge",{staticClass:"rounded-pill",class:"Approved"==e.user.status?"bg-success":"bg-danger"},[t._v(t._s(e.user.status))])],1),a("td",{staticClass:"text-nowrap"},[t._v(t._s(t._f("moment")(e.created_at)))]),a("td",[a("div",{staticClass:"d-flex"},[a("button",{staticClass:"btn btn-sm btn-purple rounded-pill text-nowrap me-2",on:{click:function(a){t.userUnitPosts=e.user.posts,t.viewUnitPost=!0}}},[a("i",{staticClass:"bi bi-stickies"})]),a("button",{staticClass:"btn btn-sm btn-purple btn-approve rounded-pill text-nowrap me-2",on:{click:function(a){t.userUnitLogs=e.user.logs,t.viewUnitLogs=!0}}},[a("i",{staticClass:"bi bi-journal-text"})]),a("button",{staticClass:"btn btn-sm btn-purple btn-approve rounded-pill text-nowrap me-2",on:{click:function(a){t.restoreAccount=e.user.id,t.$bvModal.show("restoreModal")}}},[a("i",{staticClass:"bi bi-recycle"})])])])])})),0):t._e()])],1),!t.unit_accounts.data||t.viewUnitPost||t.viewUnitLogs?t._e():a("div",{staticClass:"row mt-3"},[a("pagination",{attrs:{showDisabled:!0,align:"right",data:t.unit_accounts},on:{"pagination-change-page":t.departmentSearch}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[t._v("«")]),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[t._v("»")])])],1),t.viewUnitPost?a("div",{staticClass:"mt-2"},[a("button",{staticClass:"btn btn-purple",on:{click:function(e){e.preventDefault(),t.viewUnitPost=!1,t.posts=[]}}},[a("i",{staticClass:"bi bi-arrow-left me-2"}),t._v("Return")])]):t._e(),t.viewUnitPost?a("div",{staticClass:"table-responsive mt-3"},[t.isLoading?a("b-skeleton-table",{attrs:{rows:4,columns:7,"table-props":{bordered:!1,striped:!0}}}):t._e(),t.isLoading?t._e():a("table",{staticClass:"table table-hover"},[t._m(5),a("tbody",t._l(t.userUnitPosts,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"cursor-pointer",on:{click:function(a){a.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(s+1))]),a("td",{staticClass:"cursor-pointer",on:{click:function(a){a.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[e.postcontent.image?a("b-avatar",{attrs:{size:"6rem",variant:"dark",src:t.imgURL+"/"+e.postcontent.image}}):a("p",{staticClass:"text-muted"},[t._v("No Image")])],1),a("td",{staticClass:"cursor-pointer text-nowrap",on:{click:function(a){a.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(e.postcontent.title))]),a("td",{staticClass:"cursor-pointer",on:{click:function(a){a.preventDefault(),t.postContent=e,t.$bvModal.show("viewPostModal")}}},[t._v(t._s(e.postcontent.post_excerpt))]),a("td",[a("b-badge",{attrs:{variant:"Approved"==e.status?"success":"info"}},[t._v(t._s(e.status))])],1),a("td",{staticClass:"text-nowrap"},[t._v(t._s(t._f("moment")(e.created_at)))])])})),0)])],1):t._e(),t.viewUnitLogs?a("div",{staticClass:"mt-2"},[a("button",{staticClass:"btn btn-purple",on:{click:function(e){e.preventDefault(),t.viewUnitLogs=!1,t.userUnitLogs=[]}}},[a("i",{staticClass:"bi bi-arrow-left me-2"}),t._v("Return")])]):t._e(),t.viewUnitLogs?a("div",{staticClass:"table-responsive mt-3"},[t.initialLoading||t.isSearching?a("b-skeleton-table",{attrs:{rows:6,columns:5,"table-props":{bordered:!1,striped:!0}}}):a("b-table",{attrs:{id:"orglogstable",items:t.userUnitLogs,fields:["id","log_name","event","description","created_at","actions"],"per-page":8,"current-page":t.orglogspage,striped:""},scopedSlots:t._u([{key:"cell(event)",fn:function(e){return[a("small",[a("b-badge",{attrs:{variant:t.badgeEvent(e.item.event),pill:""}},[t._v(t._s(e.item.event))])],1)]}},{key:"cell(created_at)",fn:function(e){return[t._v(" "+t._s(t._f("moment")(e.item.created_at))+" ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{variant:"success",size:"sm"},on:{click:function(a){t.selectedLog=e.item,t.$bvModal.show("logInfoModal")}}},[t._v(" View ")])]}}],null,!1,1314687406)}),a("div",{staticClass:"d-flex justify-content-end"},[a("b-pagination",{staticClass:"mt-3",attrs:{"total-rows":t.userLogs.length,"per-page":8,"aria-controls":"orglogstable"},model:{value:t.orglogspage,callback:function(e){t.orglogspage=e},expression:"orglogspage"}})],1)],1):t._e()])])]),a("b-modal",{attrs:{id:"deleteModal",centered:"",title:"Confirm Delete"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.cancel;return[a("b-button",{attrs:{variant:"primary",size:"sm",disabled:t.isLoading},on:{click:function(t){return s()}}},[t._v(" Cancel ")]),a("b-button",{attrs:{size:"sm",variant:"danger",disabled:t.isLoading},on:{click:function(e){return e.preventDefault(),t.removeAccount.apply(null,arguments)}}},[t._v(" Delete ")])]}}])},[a("p",[t._v("Are you sure you want to delete this account?")])]),a("b-modal",{attrs:{id:"viewInfoModal","hide-footer":"",centered:"",title:"Account Info"}},[a("div",{staticClass:"row justify-content-center text-center"},[t.accDisplayed.user.userinfo.image?a("b-avatar",{attrs:{size:"6rem",variant:"dark",src:t.imgURL+"/"+t.accDisplayed.user.userinfo.image}}):a("b-avatar",{attrs:{size:"6rem",variant:"dark"}}),a("h5",{staticClass:"mt-3 "},[t._v(t._s(t.accDisplayed.user.userinfo.first_name)+" "+t._s(t.accDisplayed.user.userinfo.last_name))]),a("p",{},[t._v(t._s(t.accDisplayed.user.email))]),a("p",{},[t._v("Contact: "+t._s(t.accDisplayed.user.userinfo.contact_number))]),a("p",{},[t._v("Gender: "+t._s(t.accDisplayed.user.userinfo.gender))]),a("p",{staticClass:"mt-4"},[t._v("Organization: "+t._s(t.accDisplayed.organization.name)+" "+t._s(t.accDisplayed.organization.abbreviation?" - "+t.accDisplayed.organization.abbreviation:""))]),a("p",{},[t._v("Role: "+t._s(t.accDisplayed.user.userinfo.role.role))])],1),a("div",{staticClass:"d-flex justify-content-center mt-5"},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.$bvModal.hide("viewInfoModal")}}},[t._v(" Close ")])],1)]),a("b-modal",{attrs:{id:"viewPostModal",scrollable:"",centered:"",title:t.postContent.postcontent.title},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return s()}}},[t._v(" Close ")])]}}])},[a("div",{domProps:{innerHTML:t._s(t.postContent.postcontent.content)}}),a("p",{staticClass:"mt-4"},[a("small",[t._v("Views: "+t._s(t.postContent.views))])]),a("p",{staticClass:" mb-2"},[a("small",[t._v("Date Posted: "+t._s(t._f("moment")(t.postContent.created_at)))])])]),a("b-modal",{attrs:{id:"viewDepInfoModal","hide-footer":"",centered:"",title:"Account Info"}},[a("div",{staticClass:"row justify-content-center text-center"},[a("b-avatar",{attrs:{size:"6rem",variant:"dark",src:t.imgURL+"/"+t.accUnitDisplayed.user.userinfo.image}}),a("h5",{staticClass:"mt-3 "},[t._v(t._s(t.accUnitDisplayed.user.userinfo.first_name)+" "+t._s(t.accUnitDisplayed.user.userinfo.last_name))]),a("p",{},[t._v(t._s(t.accUnitDisplayed.user.email))]),a("p",{},[t._v("Contact: "+t._s(t.accUnitDisplayed.user.userinfo.contact_number))]),a("p",{},[t._v("Gender: "+t._s(t.accUnitDisplayed.user.userinfo.gender))]),a("p",{staticClass:"mt-4"},[t._v("Unit: "+t._s(t.accUnitDisplayed.department.name))]),a("p",{},[t._v("Role: "+t._s(t.accUnitDisplayed.user.userinfo.role.role))])],1),a("div",{staticClass:"d-flex justify-content-center mt-5"},[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.$bvModal.hide("viewDepInfoModal")}}},[t._v(" Close ")])],1)]),t.selectedLog?a("b-modal",{attrs:{id:"logInfoModal",scrollable:"",centered:"",title:"Log Info"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return s()}}},[t._v("Close")])]}}],null,!1,2708092184)},[a("p",{},[a("span",{staticClass:"fw-bold"},[t._v("Activity")]),t._v(": "+t._s(t.selectedLog.log_name))]),a("p",{},[a("span",{staticClass:"fw-bold"},[t._v("Event Type")]),t._v(": "),a("small",[a("b-badge",{attrs:{variant:t.badgeEvent(t.selectedLog.event),pill:""}},[t._v(t._s(t.selectedLog.event))])],1)]),"deleted"==t.selectedLog.event?a("div",{},[a("h6",{staticClass:"mt-3 fw-bold mb-2"},[t._v("Deleted Data")]),t._l(t.selectedLog.properties.old,(function(e,s,n){return a("div",{key:n},[a("p","created_at"==s||"updated_at"==s?[a("span",{staticClass:"fw-bold"},[t._v(t._s(s)+":")]),t._v(" "+t._s(t._f("moment")(e)))]:[a("span",{staticClass:"fw-bold"},[t._v(t._s(s)+":")]),t._v(" "+t._s(e))])])}))],2):t._e(),"login failed"==t.selectedLog.event||"logout"==t.selectedLog.event||"login success"==t.selectedLog.event?a("div",{},[a("h6",{staticClass:"fw-bold mt-1 mb-2"},[t._v("User IP: "),a("span",{staticClass:"fw-normal"},[t._v(t._s(t.selectedLog.properties.ip))])])]):t._e(),"created"==t.selectedLog.event?a("div",{},[a("h6",{staticClass:"mt-3 fw-bold mb-2"},[t._v("Data Created")]),t._l(t.selectedLog.properties.attributes,(function(e,s,n){return a("div",{key:n},[a("p","created_at"==s||"updated_at"==s?[a("span",{staticClass:"fw-bold"},[t._v(t._s(s)+":")]),t._v(" "+t._s(t._f("moment")(e)))]:[a("span",{staticClass:"fw-bold"},[t._v(t._s(s)+":")]),t._v(" "+t._s(e))])])}))],2):t._e(),"updated"==t.selectedLog.event?a("div",{},[a("h6",{staticClass:"mt-3 fw-bold mb-2"},[t._v("New Data")]),t._l(t.selectedLog.properties.attributes,(function(e,s,n){return a("div",{key:n},[a("p","created_at"==s||"updated_at"==s?[a("span",{staticClass:"fw-bold"},[t._v(t._s(s)+":")]),t._v(" "+t._s(t._f("moment")(e)))]:[a("span",{staticClass:"fw-bold"},[t._v(t._s(s)+":")]),t._v(" "+t._s(e))])])})),a("h6",{staticClass:"mt-3 fw-bold mb-2"},[t._v("Old Data")]),t._l(t.selectedLog.properties.old,(function(e,s){return a("div",{key:s.id},[a("p","created_at"==s||"updated_at"==s?[a("span",{staticClass:"fw-bold"},[t._v(t._s(s)+":")]),t._v(" "+t._s(t._f("moment")(e)))]:[a("span",{staticClass:"fw-bold"},[t._v(t._s(s)+":")]),t._v(" "+t._s(e))])])}))],2):t._e()]):t._e(),a("b-modal",{attrs:{id:"approveModal",centered:"",title:"Confirm Approve"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var s=e.cancel;return[a("b-button",{attrs:{disabled:t.isLoading,variant:"primary"},on:{click:function(t){return s()}}},[t._v(" Cancel ")]),a("b-button",{attrs:{disabled:t.isLoading,variant:"success"},on:{click:function(e){return e.preventDefault(),t.setStatus.apply(null,arguments)}}},[t._v(" Approve ")])]}}])},[a("p",{},[t._v("An email of approval will be sent to the user. Are you sure you want to approve this account?")])])],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"mb-4"},[a("small",[t._v("Listed below are accounts under organization")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Name")]),a("th",{attrs:{scope:"col"}},[t._v("Organization")]),a("th",{attrs:{scope:"col"}},[t._v("Role")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Status")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Date Created")]),a("th",{attrs:{scope:"col"}},[t._v("Actions")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("ID")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Image")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Title")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Post Excerpt")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Status")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Date Posted")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"mb-4"},[a("small",[t._v("Listed below are accounts under a department")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Name")]),a("th",{attrs:{scope:"col"}},[t._v("Unit")]),a("th",{attrs:{scope:"col"}},[t._v("Role")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Status")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"row"}},[t._v("Date Created")]),a("th",{attrs:{scope:"col"}},[t._v("Action")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("ID")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Image")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Title")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Post Excerpt")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Status")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Date Posted")])])])}],o=a("5530"),r=a("1da1"),i=(a("96cf"),a("c1df")),c=a.n(i),l=a("2f62"),u=a("2ef0"),d={filters:{moment:function(t){return c()(t).format("MMM Do YYYY, h:mm a")}},data:function(){return{orglogspage:1,current_id:"",postContent:{postcontent:{title:"",content:""}},isLoading:!1,search:"",userPosts:[],userLogs:[],viewPost:!1,viewLogs:!1,userUnitPosts:[],userUnitLogs:[],viewUnitPost:!1,viewUnitLogs:!1,delete_data:{id:"",type:""},approve_data:{id:"",index:"",type:""},search_organization:"",search_department:"",initialLoading:!1,orgStatus:"All Accounts",advancedFilter:!1,unitStatus:"All Accounts",orgAccountLoading:!1,depAccountLoading:!1,accDisplayed:{organization:{name:""},user:{userinfo:{first_name:"",last_name:"",role:{role:""}}}},isSearching:!1,accUnitDisplayed:{department:{name:""},user:{userinfo:{role:{role:""},first_name:"",last_name:"",orgunit:{role:{role:""}}}}},selectedLog:{user:{userinfo:{first_name:"",last_name:""}},properties:{old:{data:""},attributes:{data:""}}},restoreAccount:""}},watch:{search_organization:function(t,e){this.debouncedOrganizationSearch()},search_department:function(t,e){this.debouncedDepartmentSearch()}},created:function(){this.debouncedOrganizationSearch=u.debounce(this.organizationSearch,800),this.debouncedDepartmentSearch=u.debounce(this.departmentSearch,800)},mounted:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.title="Archive Accounts",t.isLoading=!0,t.initialLoading=!0,e.next=5,t.$store.dispatch("archive/unitAccounts",1);case 5:return e.next=7,t.$store.dispatch("archive/orgAccounts",1);case 7:t.isLoading=!1,t.initialLoading=!1;case 9:case"end":return e.stop()}}),e)})))()},computed:Object(o["a"])({},Object(l["c"])("archive",["accounts","unit_accounts","org_accounts"])),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])("archive",["approveAccountType","deleteAccount"])),{},{badgeEvent:function(t){switch(t){case"created":return"success";case"deleted":return"danger";case"updated":return"primary";case"login success":return"success";case"login failed":return"danger";default:break}},revertAccount:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.next=3,t.$store.dispatch("auth/restoreAccount",t.restoreAccount);case 3:if(a=e.sent,200!=a.status){e.next=13;break}return e.next=7,t.organizationSearch();case 7:return e.next=9,t.departmentSearch();case 9:t.$toast.success("Account restored successfully!"),t.$bvModal.hide("restoreModal"),e.next=14;break;case 13:t.$toast.error("Something went wrong");case 14:t.isLoading=!1;case 15:case"end":return e.stop()}}),e)})))()},getOrgAccounts:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.length>0&&void 0!==t[0]?t[0]:1,"All Accounts"!=e.orgStatus){a.next=4;break}return a.next=4,e.$store.dispatch("archive/orgAccounts",s);case 4:if("Approved"!=e.orgStatus){a.next=7;break}return a.next=7,e.$store.dispatch("archive/approvedOrgAccounts",s);case 7:if("Pending"!=e.orgStatus){a.next=10;break}return a.next=10,e.$store.dispatch("archive/pendingOrgAccounts",s);case 10:case"end":return a.stop()}}),a)})))()},getUniAccounts:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("All Accounts"!=e.unitStatus){a.next=3;break}return a.next=3,e.$store.dispatch("archive/unitAccounts",t);case 3:if("Approved"!=e.unitStatus){a.next=6;break}return a.next=6,e.$store.dispatch("archive/approvedUnitAccounts",t);case 6:if("Pending"!=e.unitStatus){a.next=9;break}return a.next=9,e.$store.dispatch("archive/pendingUnitAccounts",t);case 9:case"end":return a.stop()}}),a)})))()},searchOrganization:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isSearching=!0,s={search:e.search_organization,status:e.orgStatus},a.next=4,e.$store.dispatch("archive/searchOrgAccount",{page:t,data:s});case 4:e.isSearching=!1;case 5:case"end":return a.stop()}}),a)})))()},organizationSearch:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.length>0&&void 0!==t[0]?t[0]:1,e.orgAccountLoading=!0,""!=e.search_organization){a.next=8;break}return a.next=5,e.getOrgAccounts(s);case 5:e.orgAccountLoading=!1,a.next=11;break;case 8:return a.next=10,e.searchOrganization(s);case 10:e.orgAccountLoading=!1;case 11:case"end":return a.stop()}}),a)})))()},searchDepartment:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isSearching=!0,s={search:e.search_department,status:e.unitStatus},a.next=4,e.$store.dispatch("archive/searchUnitAccount",{page:t,data:s});case 4:e.isSearching=!1;case 5:case"end":return a.stop()}}),a)})))()},departmentSearch:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.length>0&&void 0!==t[0]?t[0]:1,e.depAccountLoading=!0,""!=e.search_department){a.next=8;break}return a.next=5,e.getUniAccounts(s);case 5:e.depAccountLoading=!1,a.next=11;break;case 8:return a.next=10,e.searchDepartment(s);case 10:e.depAccountLoading=!1;case 11:case"end":return a.stop()}}),a)})))()}})},p=d,v=a("2877"),_=Object(v["a"])(p,s,n,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0dd010.fa9c68d7.js.map