(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f73c3526"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,a){var n=a("c6b6"),s=a("9263");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var r=a.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}},"26f1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container pe-sm-0 ps-sm-0 pe-md-2 pe-lg-4 pe-xl-4"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"card pe-5 ps-5 pb-4 pt-5 mb-4"},[t._m(0),a("div",{staticClass:"d-flex justify-content-end mt-2"},[a("div",{staticClass:"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3"},[a("div",{staticClass:"input-group form-floating mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",id:"floatingSearchDep",placeholder:"Search here"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("label",{attrs:{for:"floatingSearchDep"}},[t._v("Search")]),t._m(1)])])]),a("div",{staticClass:"table-responsive mt-3"},[t.initialLoading||t.isSearching?a("b-skeleton-table",{attrs:{rows:6,columns:5,"table-props":{bordered:!1,striped:!0}}}):a("table",{staticClass:"table table-hover"},[a("caption",[t._v("Showing "+t._s(t.adminlogs.from)+" to "+t._s(t.adminlogs.to)+" out of "+t._s(t.adminlogs.total)+" activity logs")]),a("thead",[a("tr",[a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("ID")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Activity")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Event Type")]),a("th",{attrs:{scope:"col"}},[t._v("Description")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[t._v("Date and Time")])])]),a("tbody",[t._l(t.adminlogs.data,(function(e,n){return a("tr",{key:n,staticClass:"cursor-pointer",on:{click:function(a){a.preventDefault(),t.selectedLog=e,t.$bvModal.show("logInfoModal")}}},[a("th",[t._v(t._s(t.adminlogs.from+n))]),a("td",[t._v(t._s(e.log_name))]),a("td",[a("small",[a("b-badge",{attrs:{variant:t.badgeEvent(e.event),pill:""}},[t._v(t._s(e.event))])],1)]),a("td",[t._v(t._s(e.description))]),a("td",[t._v(t._s(t._f("moment")(e.created_at)))])])})),0==t.adminlogs.data?a("tr",[a("td",{staticClass:"text-center pt-3 pb-3",attrs:{colspan:"6"}},[t._v("No data available")])]):t._e()],2)])],1),t.adminlogs.data?a("div",{staticClass:"row mt-3"},[a("pagination",{attrs:{showDisabled:!0,align:"right",data:t.adminlogs},on:{"pagination-change-page":t.getLogs}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[t._v("«")]),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[t._v("»")])])],1):t._e()])])])]),t.selectedLog.admin?a("b-modal",{attrs:{id:"logInfoModal",scrollable:"",centered:"",title:"Log Info"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var n=e.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return n()}}},[t._v("Close")])]}}],null,!1,2708092184)},[a("p",{},[a("span",{staticClass:"fw-bold"},[t._v("Activity")]),t._v(": "+t._s(t.selectedLog.log_name))]),a("p",{},[a("span",{staticClass:"fw-bold"},[t._v("User")]),t._v(": "+t._s(t.selectedLog.admin.admininfo.first_name)+" "+t._s(t.selectedLog.admin.admininfo.last_name))]),a("p",{},[a("span",{staticClass:"fw-bold"},[t._v("Event Type")]),t._v(": "),a("small",[a("b-badge",{attrs:{variant:t.badgeEvent(t.selectedLog.event),pill:""}},[t._v(t._s(t.selectedLog.event))])],1)]),"deleted"==t.selectedLog.event?a("div",{},[a("h6",{staticClass:"mt-3 fw-bold mb-2"},[t._v("Deleted Data")]),t._l(t.selectedLog.properties.old,(function(e,n,s){return a("div",{key:s},[a("p","created_at"==n||"updated_at"==n?[a("span",{staticClass:"fw-bold"},[t._v(t._s(n)+":")]),t._v(" "+t._s(t._f("moment")(e)))]:[a("span",{staticClass:"fw-bold"},[t._v(t._s(n)+":")]),t._v(" "+t._s(e))])])}))],2):t._e(),"logout"==t.selectedLog.event||"login success"==t.selectedLog.event?a("div",{},[a("h6",{staticClass:"fw-bold mt-1 mb-2"},[t._v("User IP: "),a("span",{staticClass:"fw-normal"},[t._v(t._s(t.selectedLog.properties.ip))])])]):t._e(),"created"==t.selectedLog.event?a("div",{},[a("h6",{staticClass:"mt-3 fw-bold mb-2"},[t._v("Data Created")]),t._l(t.selectedLog.properties.attributes,(function(e,n,s){return a("div",{key:s},[a("p","created_at"==n||"updated_at"==n?[a("span",{staticClass:"fw-bold"},[t._v(t._s(n)+":")]),t._v(" "+t._s(t._f("moment")(e)))]:[a("span",{staticClass:"fw-bold"},[t._v(t._s(n)+":")]),t._v(" "+t._s(e))])])}))],2):t._e(),"updated"==t.selectedLog.event?a("div",{},[a("h6",{staticClass:"mt-3 fw-bold mb-2"},[t._v("New Data")]),t._l(t.selectedLog.properties.attributes,(function(e,n,s){return a("div",{key:s},[a("p","created_at"==n||"updated_at"==n?[a("span",{staticClass:"fw-bold"},[t._v(t._s(n)+":")]),t._v(" "+t._s(t._f("moment")(e)))]:[a("span",{staticClass:"fw-bold"},[t._v(t._s(n)+":")]),t._v(" "+t._s(e))])])})),a("h6",{staticClass:"mt-3 fw-bold mb-2"},[t._v("Old Data")]),t._l(t.selectedLog.properties.old,(function(e,n){return a("div",{key:n.id},[a("p","created_at"==n||"updated_at"==n?[a("span",{staticClass:"fw-bold"},[t._v(t._s(n)+":")]),t._v(" "+t._s(t._f("moment")(e)))]:[a("span",{staticClass:"fw-bold"},[t._v(t._s(n)+":")]),t._v(" "+t._s(e))])])}))],2):t._e()]):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column me-auto mt-2"},[a("h5",[t._v("Activity Logs")]),a("p",{staticClass:"mb-4"},[a("small",[t._v("Listed below are your activity logs ")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-purple"},[a("i",{staticClass:"bi bi-search"})])}],r=a("5530"),i=a("1da1"),c=(a("ac1f"),a("841c"),a("96cf"),a("2f62")),o=a("c1df"),l=a.n(o),d=a("2ef0"),u={filters:{moment:function(t){return l()(t).format("MMMM D, YYYY, h:mm a")}},data:function(){return{initialLoading:!1,selectedLog:{user:{userinfo:{first_name:"",last_name:""}},properties:{old:{data:""},attributes:{data:""}}},search:"",isSearching:!1}},watch:{search:function(){this.debouncedActivityLogSearch()}},created:function(){this.debouncedActivityLogSearch=d.debounce(this.activityLogSearch,800)},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.initialLoading=!0,document.title="Activity Logs - Account Activity",e.next=4,t.$store.dispatch("logs/getAdminLogs",1);case 4:t.initialLoading=!1;case 5:case"end":return e.stop()}}),e)})))()},methods:{badgeEvent:function(t){switch(t){case"created":return"success";case"deleted":return"danger";case"updated":return"primary";case"login success":return"success";case"login failed":return"danger";default:break}},getLogs:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:1,a.next=3,e.$store.dispatch("logs/getAdminLogs",n);case 3:case"end":return a.stop()}}),a)})))()},searchActivityLog:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.isSearching=!0,n={search:e.search},a.next=4,e.$store.dispatch("logs/searchAdminLogs",{page:t,data:n});case 4:e.isSearching=!1;case 5:case"end":return a.stop()}}),a)})))()},activityLogSearch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;""==this.search?this.getLogs(t):this.searchActivityLog(t)}},computed:Object(r["a"])({},Object(c["c"])("logs",["adminlogs"]))},v=u,p=a("2877"),f=Object(p["a"])(v,n,s,!1,null,null,null);e["default"]=f.exports},"841c":function(t,e,a){"use strict";var n=a("d784"),s=a("825a"),r=a("1d80"),i=a("129f"),c=a("14c3");n("search",1,(function(t,e,a){return[function(e){var a=r(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var r=s(t),o=String(this),l=r.lastIndex;i(l,0)||(r.lastIndex=0);var d=c(r,o);return i(r.lastIndex,l)||(r.lastIndex=l),null===d?-1:d.index}]}))},9263:function(t,e,a){"use strict";var n=a("ad6d"),s=a("9f7f"),r=a("5692"),i=RegExp.prototype.exec,c=r("native-string-replace",String.prototype.replace),o=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),d=s.UNSUPPORTED_Y||s.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],v=l||u||d;v&&(o=function(t){var e,a,s,r,o=this,v=d&&o.sticky,p=n.call(o),f=o.source,g=0,_=t;return v&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),_=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(f="(?: "+f+")",_=" "+_,g++),a=new RegExp("^(?:"+f+")",p)),u&&(a=new RegExp("^"+f+"$(?!\\s)",p)),l&&(e=o.lastIndex),s=i.call(v?a:o,_),v?s?(s.input=s.input.slice(g),s[0]=s[0].slice(g),s.index=o.lastIndex,o.lastIndex+=s[0].length):o.lastIndex=0:l&&s&&(o.lastIndex=o.global?s.index+s[0].length:e),u&&s&&s.length>1&&c.call(s[0],a,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(s[r]=void 0)})),s}),t.exports=o},"9f7f":function(t,e,a){"use strict";var n=a("d039");function s(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,a){"use strict";var n=a("23e7"),s=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d784:function(t,e,a){"use strict";a("ac1f");var n=a("6eeb"),s=a("9263"),r=a("d039"),i=a("b622"),c=a("9112"),o=i("species"),l=RegExp.prototype,d=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),v=i("replace"),p=function(){return!!/./[v]&&""===/./[v]("a","$0")}(),f=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,v){var g=i(t),_=!r((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=_&&!r((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[o]=function(){return a},a.flags="",a[g]=/./[g]),a.exec=function(){return e=!0,null},a[g](""),!e}));if(!_||!m||"replace"===t&&(!d||!u||p)||"split"===t&&!f){var h=/./[g],b=a(g,""[t],(function(t,e,a,n,r){var i=e.exec;return i===s||i===l.exec?_&&!r?{done:!0,value:h.call(e,a,n)}:{done:!0,value:t.call(a,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),x=b[0],w=b[1];n(String.prototype,t,x),n(l,g,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}v&&c(l[g],"sham",!0)}}}]);
//# sourceMappingURL=chunk-f73c3526.04459031.js.map