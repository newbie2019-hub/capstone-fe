{"version":3,"sources":["webpack:///./src/views/user/osa/Posts.vue?0fea","webpack:///src/views/user/osa/Posts.vue","webpack:///./src/views/user/osa/Posts.vue?a868","webpack:///./src/views/user/osa/Posts.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","attrs","_v","directives","name","rawName","value","expression","domProps","on","$event","target","composing","search_post","posts","_e","bordered","striped","initialLoading","_s","from","to","total","_l","post","i","key","preventDefault","viewPost","$bvModal","show","postcontent","image","title","post_excerpt","_f","created_at","$can","status","approve_post","id","user_account_id","user","updatePost","deletePost","slot","scopedSlots","_u","fn","ref","cancel","isLoading","destroyPost","apply","arguments","content","views","staticRenderFns","filters","moment","computed","methods","postSearch","getPost","page","searchPost","watch","component"],"mappings":"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","file":"js/chunk-2d0a3944.8c040add.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4\"},[_c('div',{staticClass:\"row justify-content-center mt-3\"},[_c('div',{staticClass:\"col-12 col-sm-11 col-md-12 col-lg-12 col-xl-12\"},[_c('div',{staticClass:\"card p-5 mb-4\"},[_vm._m(0),_c('div',{staticClass:\"d-flex justify-content-end mt-2\"},[_c('router-link',{staticClass:\"btn btn-purple btn-sm me-2 d-flex align-items-center\",attrs:{\"to\":\"/user/post/create\"}},[_c('i',{staticClass:\"bi bi-plus-circle me-2\"}),_vm._v(\" New Post\")]),_c('div',{staticClass:\"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3\"},[_c('div',{staticClass:\"input-group form-floating\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search_post),expression:\"search_post\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"floatingSearchOrg\",\"placeholder\":\"Search here\"},domProps:{\"value\":(_vm.search_post)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.search_post=$event.target.value}}}),_c('label',{attrs:{\"for\":\"floatingSearchOrg\"}},[_vm._v(\"Search here\")]),_vm._m(1)])])],1),_c('div',{staticClass:\"table-responsive mt-4\"},[(_vm.posts == 0)?_c('div',[_vm._v(\"No Posts found\")]):_vm._e(),(_vm.initialLoading)?_c('b-skeleton-table',{attrs:{\"rows\":4,\"columns\":7,\"table-props\":{ bordered: false, striped: true }}}):_vm._e(),(!_vm.initialLoading)?_c('table',{staticClass:\"table table-hover\"},[_c('caption',[_vm._v(\"Showing \"+_vm._s(_vm.posts.from)+\" to \"+_vm._s(_vm.posts.to)+\" out of \"+_vm._s(_vm.posts.total)+\" posts.\")]),_vm._m(2),_c('tbody',_vm._l((_vm.posts.data),function(post,i){return _c('tr',{key:i},[_c('td',{on:{\"click\":function($event){$event.preventDefault();_vm.viewPost = post; _vm.$bvModal.show('viewPostModal')}}},[(post.postcontent.image)?_c('img',{attrs:{\"src\":'http://127.0.0.1:8000/uploads/' + post.postcontent.image,\"alt\":\"\",\"width\":\"100\"}}):_c('p',{staticClass:\"text-muted\"},[_vm._v(\"No Image\")])]),_c('td',{staticClass:\"text-nowrap cursor-pointer\",on:{\"click\":function($event){$event.preventDefault();_vm.viewPost = post; _vm.$bvModal.show('viewPostModal')}}},[_vm._v(\" \"+_vm._s(post.postcontent.title)+\" \"),_c('br')]),_c('td',{staticClass:\"cursor-pointer\",on:{\"click\":function($event){$event.preventDefault();_vm.viewPost = post; _vm.$bvModal.show('viewPostModal')}}},[_vm._v(_vm._s(post.postcontent.post_excerpt))]),_c('td',{staticClass:\"text-nowrap\"},[_vm._v(_vm._s(_vm._f(\"moment\")(post.created_at)))]),_c('td',[_c('div',{staticClass:\"d-flex\"},[(_vm.$can('approve_post') && post.status != 'Approved')?_c('button',{staticClass:\"btn btn-sm btn-success rounded-pill btn-approve me-2\",on:{\"click\":function($event){$event.preventDefault();_vm.approve_post.id = post.id; _vm.$bvModal.show('approvePostModal')}}},[_c('i',{staticClass:\"bi bi-check\"})]):_vm._e(),(post.user_account_id == _vm.user.id)?_c('button',{staticClass:\"btn btn-sm btn-success rounded-pill btn-approve me-2\",on:{\"click\":function($event){$event.preventDefault();return _vm.updatePost(post)}}},[_c('i',{staticClass:\"bi bi-pencil-square\"})]):_vm._e(),(_vm.$can('delete_post') || post.user_account_id == _vm.user.id)?_c('button',{staticClass:\"btn btn-sm btn-danger rounded-pill btn-approve me-2\",on:{\"click\":function($event){_vm.deletePost = post.id; _vm.$bvModal.show('deleteModal')}}},[_c('i',{staticClass:\"bi bi-trash\"})]):_vm._e()])])])}),0)]):_vm._e()],1),(_vm.posts.data)?_c('div',{staticClass:\"row mt-3\"},[_c('pagination',{attrs:{\"showDisabled\":true,\"align\":'right',\"data\":_vm.posts}},[_c('span',{attrs:{\"slot\":\"prev-nav\"},slot:\"prev-nav\"},[_vm._v(\"«\")]),_c('span',{attrs:{\"slot\":\"next-nav\"},slot:\"next-nav\"},[_vm._v(\"»\")])])],1):_vm._e()])])])]),_c('b-modal',{attrs:{\"id\":\"deleteModal\",\"centered\":\"\",\"title\":\"Confirm Delete\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"variant\":\"danger\",\"disabled\":_vm.isLoading},on:{\"click\":function($event){$event.preventDefault();return _vm.destroyPost.apply(null, arguments)}}},[_vm._v(\" Delete \")])]}}])},[_c('p',{},[_vm._v(\"Are you sure to delete this post?\")])]),_c('b-modal',{attrs:{\"id\":\"viewPostModal\",\"scrollable\":\"\",\"centered\":\"\",\"title\":_vm.viewPost.postcontent.title},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Close \")])]}}])},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.viewPost.postcontent.content)}}),_c('p',{staticClass:\"mt-2\"},[_c('small',[_vm._v(\"Date Posted: \"+_vm._s(_vm._f(\"moment\")(_vm.viewPost.created_at)))])]),_c('p',{staticClass:\"mb-3\"},[_c('small',[_vm._v(\"Views: \"+_vm._s(_vm.viewPost.views))])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-items-center\"},[_c('div',{staticClass:\"d-flex flex-column me-auto mt-2\"},[_c('h5',{staticClass:\"text-violet\"},[_vm._v(\"POSTS\")]),_c('p',{staticClass:\"mb-4\"},[_c('small',[_vm._v(\"Manage your posts below\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-purple\"},[_c('i',{staticClass:\"bi bi-search\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Image\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Title\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Post Excerpt\")]),_c('th',{staticClass:\"text-nowrap\",attrs:{\"scope\":\"col\"}},[_vm._v(\"Date Posted\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Actions\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n <div>\r\n    <div class=\"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4\">\r\n     <div class=\"row justify-content-center mt-3\">\r\n        <div class=\"col-12 col-sm-11 col-md-12 col-lg-12 col-xl-12\">\r\n          <div class=\"card p-5 mb-4\">\r\n            <div class=\"d-flex align-items-center\">\r\n              <div class=\"d-flex flex-column me-auto mt-2\">\r\n                <h5 class=\"text-violet\">POSTS</h5>\r\n                <p class=\"mb-4\"><small>Manage your posts below</small></p>\r\n              </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-end mt-2\">\r\n              <router-link to=\"/user/post/create\" class=\"btn btn-purple btn-sm me-2 d-flex align-items-center\"><i class=\"bi bi-plus-circle me-2\"></i> New Post</router-link>\r\n              <div class=\"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3\">\r\n                <div class=\"input-group form-floating\">\r\n                  <input v-model=\"search_post\" type=\"text\"  class=\"form-control\" id=\"floatingSearchOrg\" placeholder=\"Search here\">\r\n                  <label  for=\"floatingSearchOrg\" class=\"\">Search here</label>\r\n                  <button class=\"btn btn-purple\"><i class=\"bi bi-search\"></i></button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"table-responsive mt-4\">\r\n              <div v-if=\"posts == 0\">No Posts found</div>\r\n              <b-skeleton-table\r\n                  :rows=\"4\"\r\n                  :columns=\"7\"\r\n                  :table-props=\"{ bordered: false, striped: true }\"\r\n                  v-if=\"initialLoading\"\r\n                ></b-skeleton-table>\r\n              <table class=\"table table-hover\" v-if=\"!initialLoading\">\r\n                <caption>Showing {{posts.from}} to {{posts.to}} out of {{posts.total}} posts.</caption>\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Image</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Title</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Post Excerpt</th>\r\n                    <th scope=\"col\" class=\"text-nowrap\">Date Posted</th>\r\n                    <th scope=\"col\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr v-for=\"(post, i) in posts.data\" :key=\"i\">\r\n                    <td v-on:click.prevent=\"viewPost = post; $bvModal.show('viewPostModal')\">\r\n                      <img v-if=\"post.postcontent.image\" :src=\"'http://127.0.0.1:8000/uploads/' + post.postcontent.image\" alt=\"\" class=\"\" width=\"100\"/>\r\n                      <p class=\"text-muted\" v-else>No Image</p>\r\n                    </td>\r\n                    <td class=\"text-nowrap cursor-pointer\" v-on:click.prevent=\"viewPost = post; $bvModal.show('viewPostModal')\">\r\n                      {{post.postcontent.title}} <br/>\r\n                    </td>\r\n                    <td class=\"cursor-pointer\" v-on:click.prevent=\"viewPost = post; $bvModal.show('viewPostModal')\">{{post.postcontent.post_excerpt}}</td>\r\n                    <td class=\"text-nowrap\">{{post.created_at | moment}}</td>\r\n                    <td>\r\n                      <div class=\"d-flex\">\r\n                        <button v-if=\"$can('approve_post') && post.status != 'Approved'\" v-on:click.prevent=\"approve_post.id = post.id; $bvModal.show('approvePostModal')\" class=\"btn btn-sm btn-success rounded-pill btn-approve me-2\" >\r\n                           <i class=\"bi bi-check\"></i>\r\n                        </button>\r\n                        <button v-if=\"post.user_account_id == user.id\" v-on:click.prevent=\"updatePost(post)\" class=\"btn btn-sm btn-success rounded-pill btn-approve me-2\" >\r\n                          <i class=\"bi bi-pencil-square\"></i>\r\n                        </button>\r\n                        <button v-if=\"$can('delete_post') || post.user_account_id == user.id\" @click=\"deletePost = post.id; $bvModal.show('deleteModal')\" class=\"btn btn-sm btn-danger rounded-pill btn-approve me-2\" >\r\n                          <i class=\"bi bi-trash\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div class=\"row mt-3\" v-if=\"posts.data\">\r\n              <pagination :showDisabled=\"true\" :align=\"'right'\" :data=\"posts\">\r\n                <span slot=\"prev-nav\">&laquo;</span>\r\n                <span slot=\"next-nav\">&raquo;</span>\r\n              </pagination>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <b-modal id=\"deleteModal\" centered title=\"Confirm Delete\">\r\n        <p class=\"\">Are you sure to delete this post?</p>\r\n        <template #modal-footer = {cancel} >\r\n        <b-button variant=\"primary\" @click=\"cancel()\"> Cancel </b-button>\r\n        <b-button variant=\"danger\" v-on:click.prevent=\"destroyPost\" :disabled=\"isLoading\">\r\n            Delete\r\n        </b-button>\r\n        </template>\r\n    </b-modal>\r\n\r\n    <b-modal id=\"viewPostModal\" scrollable centered :title=\"viewPost.postcontent.title\">\r\n        <div v-html=\"viewPost.postcontent.content\"></div>\r\n        <p class=\"mt-2\"><small>Date Posted: {{viewPost.created_at | moment}}</small></p>\r\n        <p class=\"mb-3\"><small>Views: {{viewPost.views}}</small></p>\r\n        <template #modal-footer = {cancel} >\r\n          <b-button variant=\"primary\" @click=\"cancel()\"> Close </b-button>\r\n        </template>\r\n    </b-modal>\r\n </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapActions } from 'vuex';\r\nimport moment from 'moment'\r\nexport default {\r\n    data(){\r\n    return {\r\n       viewPost: {\r\n         postcontent: {\r\n           title: '',\r\n           content: ''\r\n         },\r\n       },\r\n       initialLoading: false,\r\n       isLoading: false,\r\n       isSearching: false,\r\n       search_post: '',\r\n       approve_post: {\r\n         id: '',\r\n       },\r\n       post: {\r\n           title: '',\r\n           content: '',\r\n           image: '',\r\n       },\r\n       update: {\r\n           title: '',\r\n           content: '',\r\n           image: '',\r\n       },\r\n       deletePost: '',\r\n    }\r\n  },\r\n  filters: {\r\n    moment: function (date) {\r\n      return moment(date).format('MMM D, YYYY, h:mm a');\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('auth', ['user']),\r\n    ...mapState('post', ['posts','post_types']),\r\n  },\r\n  async mounted(){\r\n    document.title = 'Info Kiosk - Post Management'\r\n    this.initialLoading = true\r\n    await this.checkAuthUser()\r\n    await this.$store.dispatch('post/getPost', 1);\r\n    this.initialLoading = false\r\n  },\r\n  methods: {\r\n    ...mapActions('auth', ['checkAuthUser']),\r\n    async updatePost(data){\r\n      this.$store.commit('post/SET_UPDATE_POST', data)\r\n      this.$router.push('/user/post/update')\r\n    },\r\n    async destroyPost(){\r\n        this.isLoading = true\r\n        const res = await this.$store.dispatch('post/deletePost', this.deletePost)\r\n        if(res.status == 200){\r\n            await this.$store.dispatch('post/getPost', 1);\r\n            this.$toast.success('Post deleted successfully!')\r\n            this.$bvModal.hide('deleteModal')\r\n        } else {\r\n            this.$toast.error('Something went wrong')\r\n        }\r\n        this.isLoading = false\r\n    },\r\n     async searchPost(page){\r\n      let data = {\r\n        search: this.search_role\r\n      }\r\n      this.isSearching = true\r\n      await this.$store.dispatch('post/searchPost', {page: page, data: data})\r\n      this.isSearching = false\r\n    },\r\n    async getPost(page){\r\n       await this.$store.dispatch('post/getPost', page);\r\n    },\r\n    postSearch(page = 1){\r\n      if(this.search_post == ''){\r\n        this.getPost(page)\r\n      }\r\n      else {\r\n        this.searchPost(page)\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    search_post(before, after){\r\n      this.postSearch()\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Posts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Posts.vue?vue&type=template&id=64312fd1&\"\nimport script from \"./Posts.vue?vue&type=script&lang=js&\"\nexport * from \"./Posts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}