(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d892b4cc"],{"498a":function(e,t,a){"use strict";var n=a("23e7"),r=a("58a8").trim,i=a("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return r(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),r=a("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(s,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},7370:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4"},[a("div",{staticClass:"row justify-content-center mt-3"},[a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"card p-5"},[e._m(0),a("div",{staticClass:"d-flex justify-content-end mt-2"},[a("button",{staticClass:"btn btn-purple btn-sm me-2",on:{click:function(t){return t.preventDefault(),e.$bvModal.show("newOrganizationModal")}}},[a("i",{staticClass:"bi bi-plus-circle"}),e._v(" Organization")]),a("div",{staticClass:"col-7 col-sm-6 col-md-5 col-lg-4 col-xl-3"},[a("div",{staticClass:"input-group form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search_organization,expression:"search_organization"}],staticClass:"form-control",attrs:{type:"text",id:"floatingSearchOrg",placeholder:"Search here"},domProps:{value:e.search_organization},on:{input:function(t){t.target.composing||(e.search_organization=t.target.value)}}}),a("label",{attrs:{for:"floatingSearchOrg"}},[e._v("Search")]),a("button",{staticClass:"btn btn-purple",on:{click:function(t){return t.preventDefault(),e.organizationSearch.apply(null,arguments)}}},[a("i",{staticClass:"bi bi-search"})])])])]),a("div",{staticClass:"table-responsive mt-5"},[0==e.organizations.data?a("div",[e._v("No accounts under organizations")]):e._e(),e.initialLoading||e.isSearching?a("b-skeleton-table",{attrs:{rows:4,columns:3,"table-props":{bordered:!1,striped:!0}}}):a("table",{staticClass:"table table-hover"},[a("caption",[e._v("Showing "+e._s(e.organizations.from)+" to "+e._s(e.organizations.to)+" out of "+e._s(e.organizations.total)+" organizations")]),a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[e._v("Logo")]),a("th",{staticClass:"text-nowrap text-center",attrs:{scope:"col"}},[e._v("Organization")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[e._v("Abbreviation")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[e._v("Department")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[e._v("Added on")]),a("th",{attrs:{scope:"col"}},[e._v("Actions")])])]),a("tbody",e._l(e.organizations.data,(function(t,n){return a("tr",{key:n},[a("th",[a("b-avatar",{attrs:{variant:"dark",icon:"star-fill",src:"http://127.0.0.1:8000/uploads/"+t.image}})],1),a("td",{},[e._v(e._s(t.name))]),a("td",{class:t.abbreviation?"":"text-muted"},[e._v(e._s(t.abbreviation?t.abbreviation:"N/A"))]),a("td",{class:t.department?"":"text-muted"},[e._v(e._s(t.department?t.department.name:"N/A"))]),a("td",{staticClass:"text-nowrap text-center"},[e._v(e._s(e._f("moment")(t.created_at)))]),a("td",[a("div",{staticClass:"d-flex"},[a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-success rounded-pill btn-approve me-2",attrs:{href:"",title:"Update"},on:{click:function(a){a.preventDefault(),e.update_organization=Object.assign({},t),e.$bvModal.show("updateOrganizationModal")}}},[a("i",{staticClass:"bi bi-pencil-square"})]),a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-danger rounded-pill btn-approve me-2",attrs:{disabled:e.isLoading&&e.delete_id==t.id,href:"",title:"Delete"},on:{click:function(a){a.preventDefault(),e.delete_id=t.id,e.$bvModal.show("deleteOrganizationModal")}}},[a("i",{staticClass:"bi bi-trash"}),e.isLoading&&e.delete_id==t.id?a("div",{staticClass:"spinner-grow text-light spinner-grow-sm",attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[e._v("Loading...")])]):e._e()])])])])})),0)])],1),e.organizations.data?a("div",{staticClass:"row mt-3"},[a("pagination",{attrs:{showDisabled:!0,align:"right",data:e.organizations},on:{"pagination-change-page":e.organizationSearch}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[e._v("«")]),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[e._v("»")])])],1):e._e()])]),a("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-3 mb-3"},[a("div",{staticClass:"card p-5"},[e._m(1),a("div",{staticClass:"d-flex justify-content-end mt-2"},[a("button",{staticClass:"btn btn-purple btn-sm me-2",on:{click:function(t){return t.preventDefault(),e.$bvModal.show("newRoleModal")}}},[a("i",{staticClass:"bi bi-plus-circle"}),e._v(" Add Role")]),a("div",{staticClass:"col-6 col-sm-5 col-md-5 col-lg-4 col-xl-3"},[a("div",{staticClass:"input-group form-floating"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search_role,expression:"search_role"}],staticClass:"form-control",attrs:{type:"text",id:"floatingSearchOrganization",placeholder:"Search here"},domProps:{value:e.search_role},on:{input:function(t){t.target.composing||(e.search_role=t.target.value)}}}),a("button",{staticClass:"btn btn-purple",on:{click:function(t){return t.preventDefault(),e.organizationRoleSearch.apply(null,arguments)}}},[a("i",{staticClass:"bi bi-search"})]),a("label",{attrs:{for:"floatingSearchOrganization"}},[e._v("Search")])])])]),a("div",{staticClass:"table-responsive mt-5"},[0==e.org_roles.data?a("div",[e._v("No roles for department added")]):e._e(),e.initialLoading||e.isSearching?a("b-skeleton-table",{attrs:{rows:4,columns:3,"table-props":{bordered:!1,striped:!0}}}):a("table",{staticClass:"table table-hover"},[a("thead",[a("tr",[a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[e._v("Organization Role")]),a("th",{staticClass:"text-nowrap",attrs:{scope:"col"}},[e._v("Added on")]),a("th",{attrs:{scope:"col"}},[e._v("Actions")])])]),a("tbody",e._l(e.org_roles.data,(function(t,n){return a("tr",{key:n},[a("td",[e._v(e._s(t.role))]),a("td",[e._v(e._s(e._f("moment")(t.created_at)))]),a("td",[a("div",{staticClass:"d-flex"},[a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-success rounded-pill btn-approve me-2",attrs:{disabled:e.isLoading,href:"",title:"Update"},on:{click:function(a){a.preventDefault(),e.role_update=Object.assign({},t),e.$bvModal.show("updateRoleModal")}}},[a("i",{staticClass:"bi bi-pencil-square"})]),a("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"btn btn-sm btn-danger rounded-pill btn-approve me-2",attrs:{disabled:e.isLoading,href:"",title:"Delete"},on:{click:function(a){a.preventDefault(),e.delete_id=t.id,e.$bvModal.show("deleteModal")}}},[a("i",{staticClass:"bi bi-trash"}),e.isLoading?a("div",{staticClass:"spinner-grow text-light spinner-grow-sm",attrs:{role:"status"}},[a("span",{staticClass:"visually-hidden"},[e._v("Loading...")])]):e._e()])])])])})),0)])],1),e.org_roles.data?a("div",{staticClass:"row mt-3"},[a("pagination",{attrs:{showDisabled:!0,align:"right",data:e.org_roles},on:{"pagination-change-page":e.organizationRoleSearch}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[e._v("«")]),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[e._v("»")])])],1):e._e()])])])]),a("b-modal",{attrs:{id:"newOrganizationModal",centered:"",title:"New Organization"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary",disabled:e.isLoading},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"success",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.saveOrganization.apply(null,arguments)}}},[e._v(" Save Organization ")])]}}])},[a("label",{staticClass:"mt-2",attrs:{for:"brand"}},[e._v("Logo")]),a("VueFileAgent",{ref:"vueFileAgent",staticClass:"mb-4",attrs:{multiple:!1,maxSize:"3MB",deletable:!0,accept:"image/*,",theme:"list",errorText:{type:"Invalid file type. Only image file is allowed",size:"Image should not exceed 3MB in size"}},on:{select:function(t){return e.filesSelected(t)},beforedelete:function(t){return e.onBeforeDelete(t)},delete:function(t){return e.fileDeleted(t)}},model:{value:e.fileRecords,callback:function(t){e.fileRecords=t},expression:"fileRecords"}}),a("div",{staticClass:"form-floating mb-2 mt-3 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.organization.organization,expression:"organization.organization"}],staticClass:"form-control",attrs:{type:"text",id:"newOrganization",placeholder:"name@example.com"},domProps:{value:e.organization.organization},on:{input:function(t){t.target.composing||e.$set(e.organization,"organization",t.target.value)}}}),a("label",{attrs:{for:"newOrganization"}},[e._v("Type a new organization")])]),a("div",{staticClass:"form-floating mb-2 mt-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.organization.abbreviation,expression:"organization.abbreviation"}],staticClass:"form-control",attrs:{type:"text",id:"newOrgAbbrev",placeholder:""},domProps:{value:e.organization.abbreviation},on:{input:function(t){t.target.composing||e.$set(e.organization,"abbreviation",t.target.value)}}}),a("label",{attrs:{for:"newOrgAbbrev"}},[e._v("Abbreviation")])]),a("div",{staticClass:"mb-2 mt-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.organization.department_id,expression:"organization.department_id"}],staticClass:"form-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.organization,"department_id",t.target.multiple?a:a[0])}}},e._l(e.signup.unit,(function(t,n){return a("option",{key:n,domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)])],1),a("b-modal",{attrs:{id:"updateOrganizationModal",centered:"",title:"Update Organization"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary",disabled:e.isLoading},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"success",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.updateOrganization.apply(null,arguments)}}},[e._v(" Update ")])]}}])},[a("label",{staticClass:"mt-2",attrs:{for:"brand"}},[e._v("Logo")]),a("VueFileAgent",{ref:"vueFileAgent",staticClass:"mb-4",attrs:{multiple:!1,maxSize:"3MB",deletable:!0,accept:"image/*,",theme:"list",errorText:{type:"Invalid file type. Only image file is allowed",size:"Image should not exceed 3MB in size"}},on:{select:function(t){return e.filesSelected(t)},beforedelete:function(t){return e.onBeforeDelete(t)},delete:function(t){return e.fileDeleted(t)}},model:{value:e.fileRecords,callback:function(t){e.fileRecords=t},expression:"fileRecords"}}),a("div",{staticClass:"form-floating mb-2 mt-3 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.update_organization.name,expression:"update_organization.name"}],staticClass:"form-control",attrs:{type:"text",id:"updateOrganization",placeholder:""},domProps:{value:e.update_organization.name},on:{input:function(t){t.target.composing||e.$set(e.update_organization,"name",t.target.value)}}}),a("label",{attrs:{for:"updateOrganization"}},[e._v("Type a new organization")])]),a("div",{staticClass:"form-floating mb-2 mt-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.update_organization.abbreviation,expression:"update_organization.abbreviation"}],staticClass:"form-control",attrs:{type:"text",id:"updateOrgAbbrev",placeholder:""},domProps:{value:e.update_organization.abbreviation},on:{input:function(t){t.target.composing||e.$set(e.update_organization,"abbreviation",t.target.value)}}}),a("label",{attrs:{for:"updateOrgAbbrev"}},[e._v("Abbreviation")])]),a("div",{staticClass:"mb-2 mt-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.update_organization.department_id,expression:"update_organization.department_id"}],staticClass:"form-select",attrs:{id:"unitSelect","aria-label":"Department"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.update_organization,"department_id",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"default",selected:"",disabled:""}},[e._v("Select a department")]),e._l(e.signup.unit,(function(t,n){return a("option",{key:n,domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)])],1),a("b-modal",{attrs:{id:"deleteOrganizationModal",centered:"",title:"Confirm Delete"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary",disabled:e.isLoading},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.$bvModal.show("selectOrganizationModal")}}},[e._v(" Change Organization ")]),a("b-button",{attrs:{variant:"danger",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.deleteOrganization.apply(null,arguments)}}},[e._v(" Delete ")])]}}])},[a("p",{},[e._v("Deleting an organization will delete all accounts under that organization. You cannot undo this action but you can set a new organization for those accounts. Are you sure you want to delete this department?")])]),a("b-modal",{attrs:{id:"selectOrganizationModal",centered:"",title:"Select Organization"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return n()}}},[e._v(" Save ")])]}}])},[a("p",{staticClass:"mb-3"},[e._v("If there are accounts under this organization, you can transfer them to a new organization so that those accounts will not be deleted.")]),a("label",{attrs:{for:"organizationModal"}},[a("small",[e._v("New Organization")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.new_organization,expression:"new_organization"}],staticClass:"form-select",attrs:{id:"organizationModal","aria-label":"Select Organization modal"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.new_organization=t.target.multiple?a:a[0]}}},e._l(e.allorganizations,(function(t,n){return a("option",{key:n,attrs:{disabled:e.delete_id==t.id},domProps:{value:t.id}},[e._v(e._s(t.name))])})),0)]),a("b-modal",{attrs:{id:"updateRoleModal",centered:"",title:"Update Role"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"success",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.updateRole.apply(null,arguments)}}},[e._v(" Update Role ")])]}}])},[a("div",{staticClass:"form-floating mb-2 mt-3 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.role_update.role,expression:"role_update.role"}],staticClass:"form-control",attrs:{type:"text",id:"updateRole",placeholder:""},domProps:{value:e.role_update.role},on:{input:function(t){t.target.composing||e.$set(e.role_update,"role",t.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[e._v("Type a new role")])])]),a("b-modal",{attrs:{id:"newRoleModal",centered:"",title:"New Role"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"success",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.saveRole.apply(null,arguments)}}},[e._v(" Save Role ")])]}}])},[a("div",{staticClass:"form-floating mb-2 mt-3 "},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data.role,expression:"data.role"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"name@example.com"},domProps:{value:e.data.role},on:{input:function(t){t.target.composing||e.$set(e.data,"role",t.target.value)}}}),a("label",{attrs:{for:"floatingInput"}},[e._v("Type a new role")])])]),a("b-modal",{attrs:{id:"deleteModal",centered:"",title:"Confirm Delete"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"primary",disabled:e.isLoading},on:{click:function(e){return n()}}},[e._v(" Cancel ")]),a("b-button",{attrs:{variant:"primary"},on:{click:function(t){return t.preventDefault(),e.$bvModal.show("selectRoleModal")}}},[e._v(" Change Role ")]),a("b-button",{attrs:{variant:"danger",disabled:e.isLoading},on:{click:function(t){return t.preventDefault(),e.deleteRole.apply(null,arguments)}}},[e._v(" Delete ")])]}}])},[a("p",{},[e._v("Deleting a role will delete all accounts under that role. You cannot undo this action but you can set a new role for those accounts. Are you sure you want to delete this role?")])]),a("b-modal",{attrs:{id:"selectRoleModal",centered:"",title:"Select Role"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var n=t.cancel;return[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return n()}}},[e._v(" Save ")])]}}])},[a("p",{staticClass:"mb-3"},[e._v("If there are accounts under this role you can select a new role so that those accounts will not be deleted.")]),a("label",{attrs:{for:"floatingSelect text-muted "}},[a("small",[e._v("New Role")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"form-select",attrs:{id:"floatingSelect","aria-label":"Select role modal"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?a:a[0]}}},e._l(e.org_roles.data,(function(t,n){return a("option",{key:n,attrs:{disabled:e.delete_id==t.id},domProps:{value:t.id}},[e._v(e._s(t.role))])})),0)])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"d-flex flex-column me-auto mt-2"},[a("h5",{staticClass:"text-violet"},[e._v("Organizations")]),a("p",{staticClass:"mb-4"},[a("small",[e._v("Manage your organizations below")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-items-center"},[a("div",{staticClass:"d-flex flex-column me-auto mt-2"},[a("h5",{staticClass:"text-violet"},[e._v("Organization Roles")]),a("p",{staticClass:"mb-4"},[a("small",[e._v("Manage your roles for organizations below")])])])])}],i=a("5530"),o=a("1da1"),s=(a("4de4"),a("99af"),a("a434"),a("b0c0"),a("498a"),a("96cf"),a("2f62")),l=a("c1df"),c=a.n(l),d=a("2ef0"),u={filters:{moment:function(e){return c()(e).format("MMM D, YYYY - h:mm a")}},data:function(){return{initialLoading:!1,isLoading:!1,delete_id:"",role:"",new_organization:"",data:{role:"",role_id:""},search_organization:"",search_role:"",isSearching:!1,organization:{organization:"",image:"",abbreviation:"",organization_id:""},update_organization:{organization:"",image:"",abbreviation:"",organization_id:"",department_id:"",department:{id:""}},fileRecords:[],fileRecordsForUpload:[],role_update:""}},watch:{search_organization:function(e,t){this.debouncedOrganizationSearch()},search_role:function(e,t){this.debouncedOrganizationRoleSearch()},"update_organization.department_id":function(){null==this.update_organization.department_id&&(this.update_organization.department_id="default")}},created:function(){this.debouncedOrganizationRoleSearch=d.debounce(this.organizationRoleSearch,1e3),this.debouncedOrganizationSearch=d.debounce(this.organizationSearch,1e3)},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.title="Organization and Organization Roles Management",e.initialLoading=!0,t.next=4,e.$store.dispatch("depandorg/getOrganizations",1);case 4:return t.next=6,e.$store.dispatch("depandorg/getAllOrganizations");case 6:return t.next=8,e.$store.dispatch("depandorg/getRoleOrganizations");case 8:return t.next=10,e.getSignUpInfo();case 10:e.initialLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},methods:Object(i["a"])(Object(i["a"])({},Object(s["b"])("auth",["getSignUpInfo"])),{},{filesSelected:function(e){var t=e.filter((function(e){return!e.error}));this.fileRecordsForUpload=this.fileRecordsForUpload.concat(t)},fileDeleted:function(e){var t=this.fileRecordsForUpload.indexOf(e);-1!==t&&this.fileRecordsForUpload.splice(t,1)},onBeforeDelete:function(e){console.log(e);var t=this.fileRecordsForUpload.indexOf(e);if(-1!==t){this.fileRecordsForUpload.splice(t,1);var a=this.fileRecords.indexOf(e);-1!==a&&this.fileRecords.splice(a,1)}},getOrganizations:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,a.next=3,t.$store.dispatch("depandorg/getOrganizations",n);case 3:case"end":return a.stop()}}),a)})))()},getRoleOrganizations:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:1,a.next=3,t.$store.dispatch("depandorg/getRoleOrganizations",n);case 3:case"end":return a.stop()}}),a)})))()},deleteRole:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("depandorg/deleteOrgRole",{id:e.delete_id,role:e.role});case 2:a=t.sent,e.isLoading=!0,200==a.status&&(e.$toast.success("Role deleted successfully!"),e.$bvModal.hide("deleteModal")),e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},saveOrganization:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.organization.organization){t.next=2;break}return t.abrupt("return",e.$toast.error("Organization name is required!"));case 2:if(e.isLoading=!0,!(e.fileRecordsForUpload.length>0)){t.next=8;break}return t.next=6,e.$refs.vueFileAgent.upload("http://127.0.0.1:8000/api/admin/uploadOrganizationImage?token="+localStorage.getItem("auth"),{"X-Requested-With":"XMLHttpRequest"},e.fileRecordsForUpload);case 6:a=t.sent,e.organization.image=a[0].data;case 8:return t.next=10,e.$store.dispatch("depandorg/saveOrganization",e.organization);case 10:if(n=t.sent,200!=n.status){t.next=17;break}return t.next=14,e.$store.dispatch("depandorg/getOrganizations",1);case 14:e.$toast.success("Organization added successfully!"),e.$bvModal.hide("newOrganizationModal"),e.organization={organization:"",abbreviation:"",organization_id:""};case 17:e.isLoading=!1;case 18:case"end":return t.stop()}}),t)})))()},updateOrganization:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.update_organization.name){t.next=2;break}return t.abrupt("return",e.$toast.error("Organization name is required"));case 2:if(e.isLoading=!0,!(e.fileRecordsForUpload.length>0)){t.next=8;break}return t.next=6,e.$refs.vueFileAgent.upload("http://127.0.0.1:8000/api/admin/uploadOrganizationImage?token="+localStorage.getItem("auth"),{"X-Requested-With":"XMLHttpRequest"},e.fileRecordsForUpload);case 6:a=t.sent,e.update_organization.image=a[0].data;case 8:return t.next=10,e.$store.dispatch("depandorg/updateOrganization",e.update_organization);case 10:if(n=t.sent,200!=n.status){t.next=17;break}return t.next=14,e.$store.dispatch("depandorg/getOrganizations",1);case 14:e.$toast.success("Organization updated successfully!"),e.$bvModal.hide("updateOrganizationModal"),e.update_organization={organization:"",abbreviation:"",organization_id:""};case 17:e.isLoading=!1;case 18:case"end":return t.stop()}}),t)})))()},deleteOrganization:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("depandorg/deleteOrganization",{id:e.delete_id,data:e.new_organization});case 3:if(a=t.sent,200!=a.status){t.next=11;break}return t.next=7,e.$store.dispatch("depandorg/getOrganizations",1);case 7:e.$toast.success("Organization deleted successfully!"),e.$bvModal.hide("deleteOrganizationModal"),e.new_organization="",e.delete_id="";case 11:e.isLoading=!1;case 12:case"end":return t.stop()}}),t)})))()},saveRole:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.data.role.trim()){t.next=2;break}return t.abrupt("return",e.$toast.error("Role is required"));case 2:return e.isLoading=!0,t.next=5,e.$store.dispatch("depandorg/saveOrgRole",e.data);case 5:if(a=t.sent,200!=a.status){t.next=12;break}return t.next=9,e.$store.dispatch("depandorg/getRoleOrganizations");case 9:e.$toast.success("Role added successfully!"),e.$bvModal.hide("newRoleModal"),e.data={role:"",role_id:""};case 12:e.isLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},updateRole:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.$store.dispatch("depandorg/updateOrgRole",e.role_update);case 3:a=t.sent,200==a.status&&(e.$toast.success("Role updated successfully!"),e.$bvModal.hide("updateRoleModal"),e.role_update=""),e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},searchOrganization:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isSearching=!0,n={search:t.search_organization},a.next=4,t.$store.dispatch("depandorg/searchOrganization",{page:e,data:n});case 4:t.isSearching=!1;case 5:case"end":return a.stop()}}),a)})))()},searchOrganizationRole:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.isSearching=!0,n={search:t.search_role},a.next=4,t.$store.dispatch("depandorg/searchOrganizationRole",{page:e,data:n});case 4:t.isSearching=!1;case 5:case"end":return a.stop()}}),a)})))()},organizationSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;""==this.search_organization?this.getOrganizations(e):this.searchOrganization(e)},organizationRoleSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;""==this.search_role?this.getRoleOrganizations(e):this.searchOrganizationRole(e)}}),computed:Object(i["a"])(Object(i["a"])({},Object(s["c"])("depandorg",["organizations","org_roles","allorganizations"])),Object(s["c"])("auth",["signup"]))},p=u,g=a("2877"),v=Object(g["a"])(p,n,r,!1,null,null,null);t["default"]=v.exports},"99af":function(e,t,a){"use strict";var n=a("23e7"),r=a("d039"),i=a("e8b5"),o=a("861d"),s=a("7b0b"),l=a("50c4"),c=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),g=a("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,m="Maximum allowed index exceeded",b=g>=51||!r((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),h=u("concat"),_=function(e){if(!o(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)},z=!b||!h;n({target:"Array",proto:!0,forced:z},{concat:function(e){var t,a,n,r,i,o=s(this),u=d(o,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?o:arguments[t],_(i)){if(r=l(i.length),p+r>f)throw TypeError(m);for(a=0;a<r;a++,p++)a in i&&c(u,p,i[a])}else{if(p>=f)throw TypeError(m);c(u,p++,i)}return u.length=p,u}})},a434:function(e,t,a){"use strict";var n=a("23e7"),r=a("23cb"),i=a("a691"),o=a("50c4"),s=a("7b0b"),l=a("65f0"),c=a("8418"),d=a("1dde"),u=d("splice"),p=Math.max,g=Math.min,v=9007199254740991,f="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var a,n,d,u,m,b,h=s(this),_=o(h.length),z=r(e,_),w=arguments.length;if(0===w?a=n=0:1===w?(a=0,n=_-z):(a=w-2,n=g(p(i(t),0),_-z)),_+a-n>v)throw TypeError(f);for(d=l(h,n),u=0;u<n;u++)m=z+u,m in h&&c(d,u,h[m]);if(d.length=n,a<n){for(u=z;u<_-n;u++)m=u+n,b=u+a,m in h?h[b]=h[m]:delete h[b];for(u=_;u>_-n+a;u--)delete h[u-1]}else if(a>n)for(u=_-n;u>z;u--)m=u+n-1,b=u+a-1,m in h?h[b]=h[m]:delete h[b];for(u=0;u<a;u++)h[u+z]=arguments[u+2];return h.length=_-n+a,d}})},c8d2:function(e,t,a){var n=a("d039"),r=a("5899"),i="​᠎";e.exports=function(e){return n((function(){return!!r[e]()||i[e]()!=i||r[e].name!==e}))}}}]);
//# sourceMappingURL=chunk-d892b4cc.fe1e24c8.js.map