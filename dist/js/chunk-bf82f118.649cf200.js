(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf82f118"],{"057f":function(e,t,r){var a=r("fc6a"),n=r("241c").f,o={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return n(e)}catch(t){return i.slice()}};e.exports.f=function(e){return i&&"[object Window]"==o.call(e)?s(e):n(a(e))}},"159b":function(e,t,r){var a=r("da84"),n=r("fdbc"),o=r("17c2"),i=r("9112");for(var s in n){var c=a[s],l=c&&c.prototype;if(l&&l.forEach!==o)try{i(l,"forEach",o)}catch(f){l.forEach=o}}},"17c2":function(e,t,r){"use strict";var a=r("b727").forEach,n=r("a640"),o=n("forEach");e.exports=o?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"3e30":function(e,t,r){},"4bc6":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"container pe-0 pe-sm-0 pe-md-2 pe-lg-4 pe-xl-4"},[r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"},[r("div",{staticClass:"card mb-3 pe-2 ps-5 pb-4 pt-4"},[r("h5",{staticClass:"mt-3"},[e._v("Create Post")]),r("p",{staticClass:"text-muted"},[e._v("All fields are required")]),r("div",{staticClass:"col-10 col-sm-10 col-md-7 col-lg-6"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.savePost.apply(null,arguments)}}},[r("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("Cover Image")]),r("VueFileAgent",{ref:"vueCoverImage",staticClass:"mb-2",attrs:{multiple:!1,maxSize:"4MB",deletable:!0,accept:"image/*,",theme:"list",errorText:{type:"Invalid file type. Only image file is allowed",size:"Image should not exceed 4MB in size"}},on:{select:function(t){return e.filesSelected(t)},beforedelete:function(t){return e.onBeforeDelete(t)},delete:function(t){return e.fileDeleted(t)}},model:{value:e.fileRecords,callback:function(t){e.fileRecords=t},expression:"fileRecords"}}),r("label",{staticClass:"mt-1",attrs:{for:"posttype"}},[e._v("Type")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.data.type,expression:"data.type"}],staticClass:"form-select",attrs:{id:"posttype"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.data,"type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"text"}},[e._v("Text Update")]),r("option",{attrs:{value:"image"}},[e._v("Image Update")])]),r("label",{staticClass:"mt-1",attrs:{for:"posttitle"}},[e._v("Enter Title")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.data.title,expression:"data.title"}],staticClass:"form-control",attrs:{type:"text",id:"posttitle",placeholder:" "},domProps:{value:e.data.title},on:{input:function(t){t.target.composing||e.$set(e.data,"title",t.target.value)}}}),"text"==e.data.type?r("div",[r("label",{staticClass:"mt-1",attrs:{for:"postexcerpt"}},[e._v("Post Excerpt")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data.post_excerpt,expression:"data.post_excerpt"}],staticClass:"form-control",attrs:{type:"text",rows:"3",id:"postexcerpt",placeholder:" "},domProps:{value:e.data.post_excerpt},on:{input:function(t){t.target.composing||e.$set(e.data,"post_excerpt",t.target.value)}}}),r("label",{staticClass:"mt-2",attrs:{for:"updatecontent"}},[e._v("Content")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data.content,expression:"data.content"}],staticClass:"form-control",attrs:{rows:"5"},domProps:{value:e.data.content},on:{input:function(t){t.target.composing||e.$set(e.data,"content",t.target.value)}}})]):r("div",[r("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("Select Images")]),r("VueFileAgent",{ref:"vueFileAgent",staticClass:"mb-2",attrs:{multiple:!0,maxSize:"4MB",deletable:!0,maxFiles:5,accept:"image/*,",theme:"list",errorText:{type:"Invalid file type. Only image file is allowed",size:"Image should not exceed 4MB in size"}},on:{select:function(t){return e.filesSelectedImageUpdate(t)},beforedelete:function(t){return e.onBeforeDeleteImageUpdate(t)},delete:function(t){return e.fileDeletedImageUpdate(t)}},model:{value:e.fileUpdateImages,callback:function(t){e.fileUpdateImages=t},expression:"fileUpdateImages"}})],1),r("div",{staticClass:"d-flex mt-3"},[r("button",{staticClass:"btn btn-success me-1",attrs:{type:"submit",disabled:e.isLoading}},[e._v("Save Post")]),r("a",{staticClass:"btn btn-secondary",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$router.back()}}},[e._v("Cancel")])])],1)])])])])])])},n=[],o=r("5530"),i=r("1da1"),s=(r("4de4"),r("99af"),r("a434"),r("159b"),r("96cf"),r("09ab"),r("2f62")),c={data:function(){return{fileRecords:[],fileRecordsForUpload:[],fileUpdateImages:[],fileUpdateImagesUpload:[],editorSettings:{modules:{imageDrop:!0,imageResize:{}}},data:{title:"",content:"",post_excerpt:"",type:"text",imageupdate:[]},isLoading:!1,initialLoading:!1}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return document.title="Create Post - Touchless Information Management",e.isLoading=!0,e.initialLoading=!0,t.next=5,e.checkAuthUser();case 5:e.initialLoading=!1,e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])("auth",["checkAuthUser"])),{},{filesSelected:function(e){var t=e.filter((function(e){return!e.error}));this.fileRecordsForUpload=this.fileRecordsForUpload.concat(t)},fileDeleted:function(e){var t=this.fileRecordsForUpload.indexOf(e);-1!==t&&this.fileRecordsForUpload.splice(t,1)},onBeforeDelete:function(e){console.log(e);var t=this.fileRecordsForUpload.indexOf(e);if(-1!==t){this.fileRecordsForUpload.splice(t,1);var r=this.fileRecords.indexOf(e);-1!==r&&this.fileRecords.splice(r,1)}},filesSelectedImageUpdate:function(e){var t=e.filter((function(e){return!e.error}));this.fileUpdateImagesUpload=this.fileUpdateImagesUpload.concat(t)},onBeforeDeleteImageUpdate:function(e){var t=this.fileUpdateImagesUpload.indexOf(e);if(-1!==t){this.fileUpdateImagesUpload.splice(t,1);var r=this.fileUpdateImages.indexOf(e);-1!==r&&this.fileUpdateImages.splice(r,1)}else confirm("Are you sure you want to delete?")&&this.$refs.vueFileAgent.deleteFileRecord(e)},fileDeletedImageUpdate:function(e){var t=this.fileUpdateImagesUpload.indexOf(e);-1!==t&&this.fileUpdateImagesUpload.splice(t,1)},handleImageAdded:function(e){var t=new FormData;t.append("image",e)},savePost:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!=e.data.title){t.next=2;break}return t.abrupt("return",e.$toast.error("Title is required!"));case 2:if("text"!=e.data.type){t.next=7;break}if(""!=e.data.content){t.next=5;break}return t.abrupt("return",e.$toast.error("Post content is required!"));case 5:if(""!=e.data.post_excerpt){t.next=7;break}return t.abrupt("return",e.$toast.error("Post excerpt is required!"));case 7:if(!(e.fileRecordsForUpload.length>0)){t.next=12;break}return t.next=10,e.$refs.vueCoverImage.upload("".concat(e.envURL,"/user/uploadPostImage?token=")+localStorage.getItem("auth"),{"X-Requested-With":"XMLHttpRequest"},e.fileRecordsForUpload);case 10:r=t.sent,e.data.image=r[0].data;case 12:if(!(e.fileUpdateImagesUpload.length>0)){t.next=16;break}return t.next=15,e.$refs.vueFileAgent.upload("".concat(e.envURL,"/user/uploadPostImage?token=")+localStorage.getItem("auth"),{"X-Requested-With":"XMLHttpRequest"},e.fileUpdateImagesUpload).then((function(t){e.fileUpdateImagesUpload.forEach((function(r,a){e.data.imageupdate.push(t[a].data)}))}));case 15:t.sent;case 16:return e.isLoading=!0,t.next=19,e.$store.dispatch("post/savePost",e.data);case 19:a=t.sent,200==a.status&&(e.$toast.success("Post added successfully!"),e.data={title:"",content:""},e.$router.back()),e.isLoading=!1;case 22:case"end":return t.stop()}}),t)})))()}})},l=c,f=(r("9b68"),r("2877")),u=Object(f["a"])(l,a,n,!1,null,null,null);t["default"]=u.exports},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");var a=r("ade3");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"746f":function(e,t,r){var a=r("428f"),n=r("5135"),o=r("e538"),i=r("9bf2").f;e.exports=function(e){var t=a.Symbol||(a.Symbol={});n(t,e)||i(t,e,{value:o.f(e)})}},8418:function(e,t,r){"use strict";var a=r("c04e"),n=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var i=a(t);i in e?n.f(e,i,o(0,r)):e[i]=r}},"99af":function(e,t,r){"use strict";var a=r("23e7"),n=r("d039"),o=r("e8b5"),i=r("861d"),s=r("7b0b"),c=r("50c4"),l=r("8418"),f=r("65f0"),u=r("1dde"),d=r("b622"),p=r("2d00"),m=d("isConcatSpreadable"),g=9007199254740991,b="Maximum allowed index exceeded",v=p>=51||!n((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),h=u("concat"),y=function(e){if(!i(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)},x=!v||!h;a({target:"Array",proto:!0,forced:x},{concat:function(e){var t,r,a,n,o,i=s(this),u=f(i,0),d=0;for(t=-1,a=arguments.length;t<a;t++)if(o=-1===t?i:arguments[t],y(o)){if(n=c(o.length),d+n>g)throw TypeError(b);for(r=0;r<n;r++,d++)r in o&&l(u,d,o[r])}else{if(d>=g)throw TypeError(b);l(u,d++,o)}return u.length=d,u}})},"9b68":function(e,t,r){"use strict";r("3e30")},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("23cb"),o=r("a691"),i=r("50c4"),s=r("7b0b"),c=r("65f0"),l=r("8418"),f=r("1dde"),u=f("splice"),d=Math.max,p=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!u},{splice:function(e,t){var r,a,f,u,b,v,h=s(this),y=i(h.length),x=n(e,y),w=arguments.length;if(0===w?r=a=0:1===w?(r=0,a=y-x):(r=w-2,a=p(d(o(t),0),y-x)),y+r-a>m)throw TypeError(g);for(f=c(h,a),u=0;u<a;u++)b=x+u,b in h&&l(f,u,h[b]);if(f.length=a,r<a){for(u=x;u<y-a;u++)b=u+a,v=u+r,b in h?h[v]=h[b]:delete h[v];for(u=y;u>y-a+r;u--)delete h[u-1]}else if(r>a)for(u=y-a;u>x;u--)b=u+a-1,v=u+r-1,b in h?h[v]=h[b]:delete h[v];for(u=0;u<r;u++)h[u+x]=arguments[u+2];return h.length=y-a+r,f}})},a4d3:function(e,t,r){"use strict";var a=r("23e7"),n=r("da84"),o=r("d066"),i=r("c430"),s=r("83ab"),c=r("4930"),l=r("fdbf"),f=r("d039"),u=r("5135"),d=r("e8b5"),p=r("861d"),m=r("825a"),g=r("7b0b"),b=r("fc6a"),v=r("c04e"),h=r("5c6c"),y=r("7c73"),x=r("df75"),w=r("241c"),O=r("057f"),U=r("7418"),I=r("06cf"),P=r("9bf2"),j=r("d1e7"),C=r("9112"),S=r("6eeb"),R=r("5692"),k=r("f772"),_=r("d012"),D=r("90e3"),E=r("b622"),F=r("e538"),$=r("746f"),A=r("d44e"),L=r("69f3"),T=r("b727").forEach,M=k("hidden"),N="Symbol",q="prototype",B=E("toPrimitive"),z=L.set,J=L.getterFor(N),X=Object[q],W=n.Symbol,H=o("JSON","stringify"),V=I.f,Q=P.f,G=O.f,K=j.f,Y=R("symbols"),Z=R("op-symbols"),ee=R("string-to-symbol-registry"),te=R("symbol-to-string-registry"),re=R("wks"),ae=n.QObject,ne=!ae||!ae[q]||!ae[q].findChild,oe=s&&f((function(){return 7!=y(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?function(e,t,r){var a=V(X,t);a&&delete X[t],Q(e,t,r),a&&e!==X&&Q(X,t,a)}:Q,ie=function(e,t){var r=Y[e]=y(W[q]);return z(r,{type:N,tag:e,description:t}),s||(r.description=t),r},se=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},ce=function(e,t,r){e===X&&ce(Z,t,r),m(e);var a=v(t,!0);return m(r),u(Y,a)?(r.enumerable?(u(e,M)&&e[M][a]&&(e[M][a]=!1),r=y(r,{enumerable:h(0,!1)})):(u(e,M)||Q(e,M,h(1,{})),e[M][a]=!0),oe(e,a,r)):Q(e,a,r)},le=function(e,t){m(e);var r=b(t),a=x(r).concat(me(r));return T(a,(function(t){s&&!ue.call(r,t)||ce(e,t,r[t])})),e},fe=function(e,t){return void 0===t?y(e):le(y(e),t)},ue=function(e){var t=v(e,!0),r=K.call(this,t);return!(this===X&&u(Y,t)&&!u(Z,t))&&(!(r||!u(this,t)||!u(Y,t)||u(this,M)&&this[M][t])||r)},de=function(e,t){var r=b(e),a=v(t,!0);if(r!==X||!u(Y,a)||u(Z,a)){var n=V(r,a);return!n||!u(Y,a)||u(r,M)&&r[M][a]||(n.enumerable=!0),n}},pe=function(e){var t=G(b(e)),r=[];return T(t,(function(e){u(Y,e)||u(_,e)||r.push(e)})),r},me=function(e){var t=e===X,r=G(t?Z:b(e)),a=[];return T(r,(function(e){!u(Y,e)||t&&!u(X,e)||a.push(Y[e])})),a};if(c||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),r=function(e){this===X&&r.call(Z,e),u(this,M)&&u(this[M],t)&&(this[M][t]=!1),oe(this,t,h(1,e))};return s&&ne&&oe(X,t,{configurable:!0,set:r}),ie(t,e)},S(W[q],"toString",(function(){return J(this).tag})),S(W,"withoutSetter",(function(e){return ie(D(e),e)})),j.f=ue,P.f=ce,I.f=de,w.f=O.f=pe,U.f=me,F.f=function(e){return ie(E(e),e)},s&&(Q(W[q],"description",{configurable:!0,get:function(){return J(this).description}}),i||S(X,"propertyIsEnumerable",ue,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),T(x(re),(function(e){$(e)})),a({target:N,stat:!0,forced:!c},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var r=W(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!s},{create:fe,defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:de}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pe,getOwnPropertySymbols:me}),a({target:"Object",stat:!0,forced:f((function(){U.f(1)}))},{getOwnPropertySymbols:function(e){return U.f(g(e))}}),H){var ge=!c||f((function(){var e=W();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))}));a({target:"JSON",stat:!0,forced:ge},{stringify:function(e,t,r){var a,n=[e],o=1;while(arguments.length>o)n.push(arguments[o++]);if(a=t,(p(t)||void 0!==e)&&!se(e))return d(t)||(t=function(e,t){if("function"==typeof a&&(t=a.call(this,e,t)),!se(t))return t}),n[1]=t,H.apply(null,n)}})}W[q][B]||C(W[q],B,W[q].valueOf),A(W,N),_[M]=!0},a640:function(e,t,r){"use strict";var a=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){throw 1},1)}))}},ade3:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return a}))},b64b:function(e,t,r){var a=r("23e7"),n=r("7b0b"),o=r("df75"),i=r("d039"),s=i((function(){o(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(e){return o(n(e))}})},dbb4:function(e,t,r){var a=r("23e7"),n=r("83ab"),o=r("56ef"),i=r("fc6a"),s=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,a=i(e),n=s.f,l=o(a),f={},u=0;while(l.length>u)r=n(a,t=l[u++]),void 0!==r&&c(f,t,r);return f}})},e439:function(e,t,r){var a=r("23e7"),n=r("d039"),o=r("fc6a"),i=r("06cf").f,s=r("83ab"),c=n((function(){i(1)})),l=!s||c;a({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return i(o(e),t)}})},e538:function(e,t,r){var a=r("b622");t.f=a}}]);
//# sourceMappingURL=chunk-bf82f118.649cf200.js.map